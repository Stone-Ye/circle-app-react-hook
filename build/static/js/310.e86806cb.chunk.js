"use strict";(self.webpackChunkcicle_app=self.webpackChunkcicle_app||[]).push([[310],{5172:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(9428),i="HeadNav_top_nav__ZUJ2B",s=n(6871),o=n(184);function c(e){var t=e.title,n=(0,s.s0)();(0,s.TH)();return(0,o.jsx)("div",{className:i,children:(0,o.jsx)(r.l2,{onBack:function(){n("/home")},children:t})})}},7310:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var r=n(1413),i=n(9439),s=n(2791),o=n(6871),c=n(9428),u={container:"OfferHistory_container__SnXTF",top_nav:"OfferHistory_top_nav__NAASD",ItemContent:"OfferHistory_ItemContent__AI02t",ItemContentLeft:"OfferHistory_ItemContentLeft__rrKcq"},a=n(3965),l=n(2840),f=n(5172),d=n(184);function g(){var e=(0,o.s0)(),t=(0,s.useState)("1"),n=(0,i.Z)(t,2),g=n[0],m=n[1],p=(0,s.useState)({}),h=(0,i.Z)(p,2),x=h[0],v=h[1],I=(0,s.useState)({}),j=(0,i.Z)(I,2),S=j[0],y=j[1];(0,s.useEffect)((function(){v((0,a.Ag)()),y((0,a.du)())}),[]);var N=function(t){var n=t.curUserInfos,i=t.curActiveIndex;console.log("curUserInfos: ",n);var s=[];switch(Number(i)){case 1:s=n.offers?n.offers:[];break;case 2:s=(s=n.orders?n.orders:[]).filter((function(e){return 0==e.status}));break;case 3:s=n.orders?n.orders:[]}s=s.filter((function(e){return 1==e.isValid}));var o={0:"Waiting",1:"Agree",2:"Reject"};return s==[]?"":(0,d.jsx)("div",{children:(0,d.jsx)(c.rj,{columns:1,children:s.map((function(t,s){var f=S[t.productId],g=f.imgs,m=f.title,p=f.price,h=f.seller;return console.log("index: ",s),console.log("item: ",t),(0,d.jsx)(c.rj.Item,{onClick:function(){1==i&&e("/checkyouroffer",{replace:!0,state:{productInfos:S[t.productId],offerDetails:t}})},children:(0,d.jsxs)("div",{className:u.ItemContent,children:[(0,d.jsxs)("div",{children:[1==i?(0,d.jsxs)("p",{children:["Seller: ",h]}):(0,d.jsxs)("p",{children:["Buyer: ",t.buyer," "]}),(0,d.jsx)("p",{children:t.time})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:u.ItemContentLeft,children:[(0,d.jsx)("div",{children:(0,d.jsx)("img",{src:g[0],width:"100px",height:"100px"})}),1==i?(0,d.jsxs)("div",{children:["Status: ",o[t.stepInfos.status]," "]}):2==i?(0,d.jsx)("div",{children:(0,d.jsx)(c.Y8.Group,{onChange:function(e){return function(e,t,i,s,o){console.log("waitingListsStatusChangeCallback: ",e,s,o);var c=(0,r.Z)({},n),u=(0,a.vW)(),f=(0,a.yu)();c.orders[o].status=Number(e),f[u]=c,f[i].offers[t].stepInfos={status:Number(e),time:(0,l.X)()},(0,a.dp)(f),v(c)}(e,t.offerId,t.buyer,t.productId,t.itemId)},children:(0,d.jsxs)(c.T,{children:[(0,d.jsx)(c.Y8,{value:"1",style:{"--icon-size":"16px","--font-size":"12px","--gap":"6px"},children:"Agree"}),(0,d.jsx)(c.Y8,{value:"2",style:{"--icon-size":"16px","--font-size":"12px","--gap":"6px"},children:"Reject"})]})})}):3==i?(0,d.jsxs)("div",{children:["State: ",o[t.status]]}):""]}),(0,d.jsxs)("div",{className:u.ItemContentRight,children:[(0,d.jsx)("p",{children:m}),(0,d.jsxs)("p",{children:["Asking price:   ",p]}),(0,d.jsxs)("p",{children:["Offer price:   ",t.offerPrice]})]})]})]})},"iteminfos"+s)}))})})};return S=={}?(0,d.jsx)(d.Fragment,{}):(0,d.jsxs)("div",{className:u.container,children:[(0,d.jsx)(f.Z,{title:"Offer History"}),(0,d.jsx)("div",{className:u.body,children:(0,d.jsx)(c.GC,{activeKey:g,onChange:function(e){return m(e)},children:[{id:1,title:"My Offers"},{id:2,title:"Waitting List"},{id:3,title:"My Orders"}].map((function(e){return(0,d.jsx)(c.GC.Tab,{title:e.title,children:(0,d.jsx)(N,{curUserInfos:x,curActiveIndex:g},"middle"+e.id)},e.id.toString())}))})})]})}},3965:function(e,t,n){n.d(t,{$D:function(){return o},Ag:function(){return f},HC:function(){return d},PJ:function(){return p},YT:function(){return g},Zv:function(){return l},b4:function(){return i},dp:function(){return u},du:function(){return a},qm:function(){return s},vW:function(){return r},yS:function(){return m},yu:function(){return c}});var r=function(){return localStorage.getItem("userName")},i=function(e){return localStorage.setItem("userName",e)},s=function(){return localStorage.removeItem("userName")},o=function(){return!!r()},c=function(){return JSON.parse(localStorage.getItem("allUserInfos"))},u=function(e){return localStorage.setItem("allUserInfos",JSON.stringify(e))},a=function(){return JSON.parse(localStorage.getItem("productsData"))},l=function(e){return localStorage.setItem("productsData",JSON.stringify(e))},f=function(){return JSON.parse(localStorage.getItem("allUserInfos"))[r()]},d=function(){return JSON.parse(localStorage.getItem("categorysData"))},g=function(){return JSON.parse(localStorage.getItem("allProductCommentInfos"))},m=function(e){return localStorage.setItem("allProductCommentInfos",JSON.stringify(e))},p=function(e){return a()[e]}},2840:function(e,t,n){function r(){var e=new Date,t=s(e.getMonth()+1),n=s(e.getDate());return s(e.getHours())+":"+s(e.getMinutes())+" "+n+"/"+t+"/"+e.getFullYear()}function i(){var e=new Date,t=s(e.getMonth()+1),n=s(e.getDate()),r=s(e.getHours()),i=s(e.getMinutes());return e.getFullYear()+"/"+t+"/"+n+" "+r+":"+i}function s(e){return e>=0&&e<=9?"0"+e:e}n.d(t,{G:function(){return i},X:function(){return r}})}}]);
//# sourceMappingURL=310.e86806cb.chunk.js.map