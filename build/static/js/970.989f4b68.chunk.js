"use strict";(self.webpackChunkcicle_app=self.webpackChunkcicle_app||[]).push([[970],{4970:function(e,n,t){t.r(n),t.d(n,{default:function(){return p}});var r=t(1413),i=t(3433),o=t(9439),l=t(2791),c=t(9428),a=t(6871),u={mynav:"Home_mynav__NEf3D",form:"Home_form__L7LWn",popupRefine:"Home_popupRefine__4Oqy7",refineCateContent:"Home_refineCateContent__uYSVd",Refineheadline:"Home_Refineheadline__CunP6",RefinePopupBody:"Home_RefinePopupBody__-bwoE",Refineform:"Home_Refineform__GUVNL"};var s=function(e){return l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{style:Object.assign({verticalAlign:"-0.125em"},e.style),className:["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),l.createElement("g",{id:"DownOutline-DownOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},l.createElement("g",null,l.createElement("rect",{id:"DownOutline-\u77e9\u5f62",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),l.createElement("path",{d:"M5.11219264,16.3947957 L22.6612572,34.5767382 L22.6612572,34.5767382 C23.2125856,35.1304785 24.0863155,35.1630514 24.6755735,34.6744571 L24.7825775,34.5767382 L42.8834676,16.3956061 C42.9580998,16.320643 43,16.2191697 43,16.1133896 L43,12.9866673 C43,12.7657534 42.8209139,12.5866673 42.6,12.5866673 C42.4936115,12.5866673 42.391606,12.6290496 42.316542,12.7044413 L23.7816937,31.3201933 L23.7816937,31.3201933 L5.6866816,12.7237117 C5.53262122,12.5653818 5.27937888,12.5619207 5.121049,12.7159811 C5.04365775,12.7912854 5,12.8946805 5,13.0026627 L5,16.1170064 C5,16.2206403 5.04022164,16.3202292 5.11219264,16.3947957 Z",id:"DownOutline-down",fill:"currentColor",fillRule:"nonzero"}))))},f=t(2681),d=t(3965),m={},g=t(184);function h(){var e=window.localStorage,n=(0,a.TH)(),t=n.state,r=(0,l.useState)([]),i=(0,o.Z)(r,2),u=i[0],s=i[1],f=(0,a.s0)(),d=(0,l.useState)("1"),h=(0,o.Z)(d,2),p=h[0],v=h[1];(0,l.useEffect)((function(){null!=t&&(console.log("Drawermenu curActiveIndex:",t.curActiveIndex),v(t.curActiveIndex))}),[n]),(0,l.useEffect)((function(){C()}),[]);var C=function(){e.getItem("categorysData")&&s(JSON.parse(e.getItem("categorysData")))};return console.log("Drawermenu curActiveIndex: ",p),(0,g.jsx)("div",{children:(0,g.jsx)(c.Ke,{activeKey:p,onChange:function(e){v(e),f("/home",{replace:!0,state:{curActiveIndex:e}})},children:u.map((function(e){return(0,g.jsx)(c.Ke.Item,{title:e.title,className:m.sidebar},e.categoryId)}))})})}function p(){var e=(0,a.TH)(),n=(0,a.s0)(),t=e.state,m=(0,l.useState)("1"),p=(0,o.Z)(m,2),v=p[0],C=p[1],x=(0,l.useState)([]),j=(0,o.Z)(x,2),L=j[0],y=j[1],w=(0,l.useState)([]),S=(0,o.Z)(w,2),N=S[0],I=S[1],b=(0,l.useState)(!1),O=(0,o.Z)(b,2),_=O[0],Z=O[1],k=(0,l.useState)(!1),R=(0,o.Z)(k,2),E=R[0],A=R[1],F=(0,l.useState)({category:[[]],price:[[]],condition:[[]]}),D=(0,o.Z)(F,2),P=D[0],V=D[1];(0,l.useEffect)((function(){null!=t&&C(t.curActiveIndex),Z(!1),y((0,d.du)())}),[e]),(0,l.useEffect)((function(){var e=(0,d.HC)();I(e),V(H(e))}),[]);var H=function(e){return{category:[["All"].concat((0,i.Z)(e.map((function(e){return e.title}))))],condition:[["All","95+%","95%","90%","80%","70%","60%","50%","40%","30%","20%","10%"]],price:[["All","0~10\u20ac","11~50\u20ac","51~100\u20ac","101~200\u20ac","201~300\u20ac","301~400\u20ac","401~500\u20ac","501~600\u20ac","600~999\u20ac","1000+\u20ac"]]}},J=function(e){var t=e.data,r=e.category;console.log("data: ",t);var i=t.filter((function(e){return e.category==r}));return(0,g.jsx)("div",{className:u.itemContainer,children:(0,g.jsx)(c.rj,{columns:3,gap:8,children:i.map((function(e,t){return(0,g.jsx)(c.rj.Item,{onClick:function(){return function(e){n("/productDetails",{replace:!0,state:{productInfos:(0,d.PJ)(e.productId)}})}(e)},children:(0,g.jsxs)("div",{className:u.itemcontent,children:[(0,g.jsx)("img",{src:e.imgs[0],width:"100px",height:"100px"}),(0,g.jsx)("div",{children:e.title}),(0,g.jsx)("p",{children:e.price})]})},e.title+t)}))})})},T=function(){var e=function(e){var n=e.columns,t=void 0===n?[["86","01","02","03"]]:n,i=e.value,a=void 0===i?{preValue:t[0][0],realValue:""}:i,f=e.onChange,d=(0,l.useState)(!1),m=(0,o.Z)(d,2),h=m[0],p=m[1],v=function(e){null===f||void 0===f||f((0,r.Z)((0,r.Z)({},a),e))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(c.T,{align:"end",onClick:function(){return p(!0)},children:[(0,g.jsx)("div",{className:u.refineCateContent,children:a.preValue}),(0,g.jsx)(s,{})]}),(0,g.jsx)(c.cW,{columns:t,visible:h,onClose:function(){p(!1)},value:[a.preValue],onConfirm:function(e){var n=e[0];null!==n&&v({preValue:n})}})]})};return(0,g.jsxs)("div",{className:u.popupRefine,children:[(0,g.jsxs)("div",{className:u.Refineheadline,children:[(0,g.jsx)("u",{onClick:function(){return A(!1)},children:" CANCLE"}),(0,g.jsx)("div",{children:" Refine search"}),(0,g.jsx)("u",{onClick:function(){return V(H(N))},children:" RESET"})]}),(0,g.jsx)("div",{className:u.Refineform,children:(0,g.jsxs)(c.l0,{layout:"horizontal",onFinish:function(e){console.log("val: ",e),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";console.log("doFilter: category=".concat(e,"; price=").concat(n,"; condition=").concat(t));var r=(0,d.du)(),o=-1;if("All"!=e&&(r=r.filter((function(n){return n.category==e})),o=N.map((function(e){return e.title})).indexOf(e)+1),"All"!=n){var l=n.substring(0,n.length-1).split("~");r=r.filter((function(e){var n=Number(e.price.substring(1,e.price.length));return n>=Number(l[0])&&n<=Number(l[1])}))}L.length!=r.length&&y((0,i.Z)(r)),-1!=o&&o!=v&&(console.log("cateindex: ",o),C("".concat(o))),A(!1)}(e.Category?e.Category.preValue:P.category[0][0],e.Price?e.Price.preValue:P.price[0][0],e.Condition?e.Condition.preValue:P.condition[0][0])},initialValues:{mobile:{preValue:"86",realValue:""}},footer:(0,g.jsx)(c.zx,{block:!0,type:"submit",color:"primary",size:"large",children:"Refine"}),children:[(0,g.jsx)(c.l0.Item,{label:"Category",name:"Category",children:(0,g.jsx)(e,{columns:P.category})}),(0,g.jsx)(c.l0.Item,{label:"Price",name:"Price",children:(0,g.jsx)(e,{columns:P.price})})]})})]})};return(0,g.jsxs)("div",{className:u.container,children:[(0,g.jsxs)("div",{className:u.mynav,children:[(0,g.jsx)("div",{className:"iconfont icon-menu",onClick:function(){Z(!_)},children:" "}),(0,g.jsx)("div",{children:" Home"}),(0,g.jsx)(f.Z,{fontSize:30,onClick:function(){A(!E)}})]}),_?(0,g.jsx)(h,{}):(0,g.jsx)(c.GC,{activeKey:v,onChange:function(e){C(e)},children:N.map((function(e,n){return(0,g.jsx)(c.GC.Tab,{title:e.title,children:(0,g.jsx)(J,{data:L,category:e.title})},e.categoryId)}))}),(0,g.jsx)("div",{className:u.RefinePopup,children:(0,g.jsx)(c.GI,{visible:E,onMaskClick:function(){A(!1)},bodyStyle:{height:"40vh"},bodyClassName:u.RefinePopupBody,children:(0,g.jsx)(T,{})})})]})}},3965:function(e,n,t){t.d(n,{$D:function(){return l},Ag:function(){return f},HC:function(){return d},PJ:function(){return h},YT:function(){return m},Zv:function(){return s},b4:function(){return i},dp:function(){return a},du:function(){return u},qm:function(){return o},vW:function(){return r},yS:function(){return g},yu:function(){return c}});var r=function(){return localStorage.getItem("userName")},i=function(e){return localStorage.setItem("userName",e)},o=function(){return localStorage.removeItem("userName")},l=function(){return!!r()},c=function(){return JSON.parse(localStorage.getItem("allUserInfos"))},a=function(e){return localStorage.setItem("allUserInfos",JSON.stringify(e))},u=function(){return JSON.parse(localStorage.getItem("productsData"))},s=function(e){return localStorage.setItem("productsData",JSON.stringify(e))},f=function(){return JSON.parse(localStorage.getItem("allUserInfos"))[r()]},d=function(){return JSON.parse(localStorage.getItem("categorysData"))},m=function(){return JSON.parse(localStorage.getItem("allProductCommentInfos"))},g=function(e){return localStorage.setItem("allProductCommentInfos",JSON.stringify(e))},h=function(e){return u()[e]}},2681:function(e,n,t){var r=t(2791);n.Z=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{style:Object.assign({verticalAlign:"-0.125em"},e.style),className:["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),r.createElement("g",{id:"TravelOutline-TravelOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"TravelOutline-\u7f16\u7ec4"},r.createElement("rect",{id:"TravelOutline-\u77e9\u5f62",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),r.createElement("path",{d:"M44,31 L44,38 C44,41.3137085 41.3137085,44 38,44 L31,44 L31,41 L38,41 C39.5976809,41 40.9036609,39.75108 40.9949073,38.1762728 L41,38 L41,31 L44,31 Z M7,31 L7,38 C7,39.5976809 8.24891996,40.9036609 9.82372721,40.9949073 L10,41 L17,41 L17,44 L10,44 C6.6862915,44 4,41.3137085 4,38 L4,31 L7,31 Z M35.0117916,13.4953015 C35.1166207,13.7467969 35.1142891,14.0301778 35.0053359,14.2799142 L25.6937022,35.6235281 C25.5554891,35.9405947 25.1859051,36.0858047 24.8682132,35.9478636 C24.7040314,35.8765762 24.5781952,35.7386683 24.5223976,35.568873 L22.8381152,30.2710706 C22.4583134,29.0764282 22.6605228,27.7728272 23.3843858,26.749381 L27.7570153,20.567063 L20.9489383,24.5446033 C19.9288237,25.1405934 18.6974178,25.2551281 17.5848853,24.8574981 L12.4105493,23.0081401 C12.0854696,22.888567 11.9190648,22.5286234 12.0388737,22.2041835 C12.0990839,22.0411356 12.2244836,21.9103966 12.3850699,21.843247 L33.7040276,12.9570142 C34.2138006,12.7445291 34.7993065,12.9855285 35.0117916,13.4953015 Z M38,4 C41.3137085,4 44,6.6862915 44,10 L44,17 L41,17 L41,10 C41,8.40231912 39.75108,7.09633912 38.1762728,7.00509269 L38,7 L31,7 L31,4 L38,4 Z M17,4 L17,7 L10,7 C8.40231912,7 7.09633912,8.24891996 7.00509269,9.82372721 L7,10 L7,17 L4,17 L4,10 C4,6.6862915 6.6862915,4 10,4 L17,4 Z",id:"TravelOutline-\u5f62\u72b6\u7ed3\u5408",fill:"currentColor",fillRule:"nonzero"}))))}}}]);
//# sourceMappingURL=970.989f4b68.chunk.js.map