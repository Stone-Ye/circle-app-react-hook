"use strict";(self.webpackChunkcicle_app=self.webpackChunkcicle_app||[]).push([[695],{5172:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(9428),s="HeadNav_top_nav__ZUJ2B",o=n(6871),a=n(184);function u(e){var t=e.title,n=(0,o.s0)();(0,o.TH)();return(0,a.jsx)("div",{className:s,children:(0,a.jsx)(r.l2,{onBack:function(){n("/home")},children:t})})}},3695:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var r=n(9439),s=n(2791),o=n(6871),a=n(9428),u=n(3965),i={item:"Message_item__zmCUW",itemTime:"Message_itemTime__CUasM",itemContent:"Message_itemContent__hpYUw",body:"Message_body__55+L9",messageItem:"Message_messageItem__01ysq"},c=n(6454),l=n(5172),f=n(184);function g(){var e=(0,o.s0)(),t=(0,s.useState)({}),n=(0,r.Z)(t,2),g=n[0],m=n[1],d=(0,s.useState)({}),h=(0,r.Z)(d,2),v=h[0],p=h[1],S=(0,s.useState)([]),I=(0,r.Z)(S,2),_=I[0],y=I[1];if((0,s.useEffect)((function(){var e=(0,u.yu)(),t=(0,u.vW)();m(e[t].messageInfos),y(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e=={})return{};var t=Object.keys(e).map((function(t){return[t,e[t].pop()]}));return t.sort((function(e,t){return e[1].time<t[1].time?1:-1})),console.log("lastmessageList: ",t),t}(e[t].messageInfos)),p(e)}),[]),console.log("messageObjs: ",g),console.log("sortedLastMessageList: ",_),_==[])return(0,f.jsx)(l.Z,{title:"Messages"});var N=function(t){var n=t.index,r=t.key,s=t.style,o=_[n],u=v[o[0]];return(0,f.jsx)(a.aV.Item,{style:s,extra:o[1].time,onClick:function(){e("/messagedetails",{replace:!0,state:{userId:o[0]}})},prefix:(0,f.jsx)(a.Ee,{src:u.avatarUrl,style:{borderRadius:20},fit:"cover",width:60,height:60}),description:o[1].content,children:o[0]},r)};return(0,f.jsxs)("div",{className:i.container,children:[(0,f.jsx)(l.Z,{title:"Messages"}),(0,f.jsx)("div",{className:i.body,children:(0,f.jsx)(a.aV,{children:(0,f.jsx)(c.qj,{disableHeight:!0,children:function(e){var t=e.width;return(0,f.jsx)(c.aV,{rowCount:_.length,rowRenderer:N,width:t,height:100*_.length,rowHeight:100,overscanRowCount:10})}})})})]})}},3965:function(e,t,n){n.d(t,{$D:function(){return a},Ag:function(){return f},HC:function(){return g},PJ:function(){return h},YT:function(){return m},Zv:function(){return l},b4:function(){return s},dp:function(){return i},du:function(){return c},qm:function(){return o},vW:function(){return r},yS:function(){return d},yu:function(){return u}});var r=function(){return localStorage.getItem("userName")},s=function(e){return localStorage.setItem("userName",e)},o=function(){return localStorage.removeItem("userName")},a=function(){return!!r()},u=function(){return JSON.parse(localStorage.getItem("allUserInfos"))},i=function(e){return localStorage.setItem("allUserInfos",JSON.stringify(e))},c=function(){return JSON.parse(localStorage.getItem("productsData"))},l=function(e){return localStorage.setItem("productsData",JSON.stringify(e))},f=function(){return JSON.parse(localStorage.getItem("allUserInfos"))[r()]},g=function(){return JSON.parse(localStorage.getItem("categorysData"))},m=function(){return JSON.parse(localStorage.getItem("allProductCommentInfos"))},d=function(e){return localStorage.setItem("allProductCommentInfos",JSON.stringify(e))},h=function(e){return c()[e]}}}]);
//# sourceMappingURL=695.13cfa3db.chunk.js.map