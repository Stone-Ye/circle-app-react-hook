{"version":3,"file":"static/js/113.39872622.chunk.js","mappings":"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","sources":["webpack://cicle-app/./src/views/Component/HeadNav/index.module.css?c2c9","views/Component/HeadNav/index.js","webpack://cicle-app/./src/views/Me/index.module.css?9d9a","views/Me/index.js","views/Utils/global.js","views/Utils/uploadImg.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"top_nav\":\"HeadNav_top_nav__ZUJ2B\"};","\nimport { NavBar } from 'antd-mobile'\nimport styles from './index.module.css'\nimport {\n  useNavigate,\n  useLocation\n} from 'react-router-dom'\n\nexport default function HeadNav ({ title }) {\n  const navigate = useNavigate()\n  const location = useLocation()\n\n  return <div className={styles.top_nav}>\n    <NavBar onBack={() => {\n      // console.log(\"location: \", location)\n      // if (['/messagedetails', '/home', '/productDetails'].includes(location.pathname)) {\n      //   navigate('/home')\n      // }\n      // else\n      //   navigate(-1)\n      navigate('/home')\n    }} >{title}</NavBar>\n  </div>\n\n}","// extracted by mini-css-extract-plugin\nexport default {\"body\":\"Me_body__7BzO9\",\"user\":\"Me_user__6b1s-\",\"login\":\"Me_login__L3+nt\",\"avata\":\"Me_avata__wXgcu\",\"avataImg\":\"Me_avataImg__0bno4\",\"list\":\"Me_list__xdMx3\"};","import React, { useEffect, useState } from 'react'\nimport { useNavigate, useLocation } from 'react-router-dom'\nimport styles from './index.module.css'\nimport { getUserName, removeUserName, isAuth, getAllUserInfos } from '../Utils/global'\nimport { Button, ImageUploader } from \"antd-mobile\"\nimport HeadNav from '../Component/HeadNav'\nimport { UploadImg } from '../Utils/uploadImg'\n\nexport default function Me () {\n\n  const location = useLocation()\n  const navigate = useNavigate()\n  const defaultAvataUrl = 'https://s2.loli.net/2022/10/05/mHKQROAML3vdDC9.png'\n  const [fileList, setFileList] = useState([{ url: defaultAvataUrl, }])\n\n  // 设置登录状态state\n  const [isLogin, setisLogin] = useState(false)\n  const [userInfo, setUserinfo] = useState({\n    'avatarUrl': defaultAvataUrl,\n    'userName': 'Tourist'\n  })\n\n\n\n  // 监听页面跳转和logout\n  useEffect(() => {\n    setisLogin(isAuth())\n  }, [location, isLogin])\n\n  useEffect(() => {\n    let allUserInfos = getAllUserInfos()\n    if (getUserName()) {\n      setUserinfo(allUserInfos[getUserName()])\n    }\n  }, [])\n\n\n\n\n\n  return <div className={styles.container}>\n    <HeadNav title='My Profile' />\n\n    <div className={styles.user}>\n      <div className={styles.avata}>\n        <img\n          src={userInfo.avatarUrl ? userInfo.avatarUrl : defaultAvataUrl}\n          alt=\"avata_img\"\n          onClick={() => {\n          }}\n        />\n        <div>\n          <div>{userInfo.userName ? userInfo.userName : 'Tourist'}</div>\n          {/* <Link to=\"/editprofile\">Edit Profile</Link> */}\n          <div>{isLogin\n            ? (<div className={styles.auth}>\n              <Button\n                color=\"success\"\n                size=\"small\"\n                onClick={() => {\n                  removeUserName()\n                  setisLogin(false)\n                  setUserinfo([])\n                }}>\n                Logout\n              </Button>\n            </div>) :\n            (<div className={styles.edit}>\n              <Button\n                color=\"success\"\n                size=\"small\"\n                onClick={() => { navigate(`/login`) }}>\n                login\n              </Button>\n            </div>\n\n            )\n          }</div>\n        </div>\n      </div>\n    </div>\n\n\n    <div className={styles.body}>\n      <div className={styles.list}>\n        <Button onClick={() => { navigate('/offerhistory', { replace: true }) }}>Offer History</Button>\n      </div>\n      <div className={styles.list}>\n        <Button onClick={() => { navigate('/wishlist', { replace: true }) }}>Wish List</Button>\n      </div>\n      <div className={styles.list}>\n        <Button onClick={() => { navigate('/postlist', { replace: true }) }}>Post List</Button>\n      </div>\n    </div>\n\n  </div>\n\n}","\nconst getUserName = () => localStorage.getItem('userName')\nconst setUserName = (value) => localStorage.setItem('userName', value)\nconst removeUserName = () => localStorage.removeItem('userName')\nconst isAuth = () => !!getUserName()\nconst getAllUserInfos = () => JSON.parse(localStorage.getItem('allUserInfos'))\nconst updateAllUserInfos = (value) => localStorage.setItem('allUserInfos', JSON.stringify(value))\nconst getProductsData = () => JSON.parse(localStorage.getItem('productsData'))\nconst updateProductsData = (value) => localStorage.setItem('productsData', JSON.stringify(value))\nconst getCurrentUserInfos = () => JSON.parse(localStorage.getItem('allUserInfos'))[getUserName()]\nconst getCategorysData = () => JSON.parse(localStorage.getItem('categorysData'))\nconst getAllProductCommentInfos = () => JSON.parse(localStorage.getItem('allProductCommentInfos'))\nconst updateAllProductCommentInfos = (value) => localStorage.setItem('allProductCommentInfos', JSON.stringify(value))\nconst getCurProductCommentInfosById = (id) => JSON.parse(localStorage.getItem('allProductCommentInfos'))[id]\nconst getCurrentProduct = (id) => getProductsData()[id]\nexport {\n  getUserName,\n  setUserName,\n  removeUserName,\n  isAuth,\n  getAllUserInfos,\n  getProductsData,\n  getCurrentProduct,\n  updateProductsData,\n  updateAllUserInfos,\n  getCurrentUserInfos,\n  getAllProductCommentInfos,\n  updateAllProductCommentInfos,\n  getCurProductCommentInfosById,\n  getCategorysData\n}\n\n\n","\nimport axios from \"axios\"\n\nconst UploadImg = async (file) => {\n  const formData = new FormData()\n  formData.append('file', file)\n  let res = await axios.post('http://139.199.86.158:8100/upload/singleImage', formData)\n  console.log(\"res: \", res)\n  let responseUrl = res ? res.data.data : ''\n  console.log(\"responseUrl: \", responseUrl)\n  return { url: responseUrl }\n}\n\nexport { UploadImg }"],"names":["HeadNav","title","navigate","useNavigate","useLocation","className","styles","onBack","Me","location","defaultAvataUrl","useState","url","isLogin","setisLogin","userInfo","setUserinfo","useEffect","isAuth","allUserInfos","getAllUserInfos","getUserName","src","avatarUrl","alt","onClick","userName","color","size","removeUserName","replace","localStorage","getItem","setUserName","value","setItem","removeItem","JSON","parse","updateAllUserInfos","stringify","getProductsData","updateProductsData","getCurrentUserInfos","getCategorysData","getAllProductCommentInfos","updateAllProductCommentInfos","getCurrentProduct","id","UploadImg","file","formData","FormData","append","axios","res","console","log","responseUrl","data"],"sourceRoot":""}