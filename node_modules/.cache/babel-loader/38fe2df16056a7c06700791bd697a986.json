{"ast":null,"code":"import _slicedToArray from\"/Users/stoneye/react_project/circle-app-react-hook/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from'./index.module.css';import circle_logo from'../../../asserts/logo/circle_logo.png';import{LeftOutline}from'antd-mobile-icons';import React,{useState,useEffect}from'react';import{Form,Input,Button,Toast}from'antd-mobile';import{useNavigate}from'react-router-dom';import{getAllUserInfos,updateAllUserInfos}from'../../Utils/global';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Register(){var navigate=useNavigate();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),allUserInfos=_useState2[0],setallUserInfos=_useState2[1];useEffect(function(){setallUserInfos(getAllUserInfos());},[]);var summitCallback=function summitCallback(_ref){var username=_ref.username,email=_ref.email,password=_ref.password;window.scrollTo(0,0);console.log('username: ',username);console.log('email: ',email);console.log('password: ',password);if(username.length<1||email.length<1||password.length<1){Toast.show({content:\"name or email or password can't empty !\"});return;}if(allUserInfos[username]){Toast.show({content:'username already exists!'});}else{allUserInfos[username]={'wishList':[],'postList':[],'avatarUrl':'https://s2.loli.net/2022/10/05/mHKQROAML3vdDC9.png','offers':[],'orders':[],'userName':username,'userId':username,'password':password,'email':email,'messageInfos':{}};updateAllUserInfos(allUserInfos);Toast.show({content:'register is successful !'});navigate('/login');}};return/*#__PURE__*/_jsx(\"div\",{className:styles.contanier,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.contanierContent,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.head_line,children:[/*#__PURE__*/_jsx(\"p\",{children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"img\",{src:circle_logo})]}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){window.scrollTo(0,0);navigate('/home');},className:styles.back,children:/*#__PURE__*/_jsx(LeftOutline,{})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.form,children:[/*#__PURE__*/_jsxs(Form,{onFinish:summitCallback,footer:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Button,{block:true,type:\"submit\",size:\"large\",children:\"Register\"})}),children:[/*#__PURE__*/_jsx(Form.Item,{name:\"username\",label:\"username\",className:styles.username,rules:[{required:true,message:'username is required'}],children:/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"username\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"email\",label:\"email\",className:styles.email,rules:[{required:true,message:'email is required'}],children:/*#__PURE__*/_jsx(Input,{type:\"email\",placeholder:\"email\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"password\",label:\"password\",rules:[{required:true,message:'password is required'}],children:/*#__PURE__*/_jsx(Input,{type:\"password\",placeholder:\"password\"})}),/*#__PURE__*/_jsx(\"div\",{})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.tips,children:/*#__PURE__*/_jsxs(\"div\",{children:[\"Already have an account?\",/*#__PURE__*/_jsx(\"span\",{className:styles.login,onClick:function onClick(){window.scrollTo(0,0);navigate('/login');},children:\" Log in\"})]})})]})]})});}","map":{"version":3,"names":["styles","circle_logo","LeftOutline","React","useState","useEffect","Form","Input","Button","Toast","useNavigate","getAllUserInfos","updateAllUserInfos","Register","navigate","allUserInfos","setallUserInfos","summitCallback","username","email","password","window","scrollTo","console","log","length","show","content","contanier","contanierContent","head_line","back","form","required","message","tips","login"],"sources":["/Users/stoneye/react_project/circle-app-react-hook/src/views/Component/Register/index.js"],"sourcesContent":["import styles from './index.module.css'\nimport circle_logo from '../../../asserts/logo/circle_logo.png'\nimport { LeftOutline } from 'antd-mobile-icons'\nimport React, { useState, useEffect } from 'react'\nimport { Form, Input, Button, Toast } from 'antd-mobile'\nimport { useNavigate } from 'react-router-dom'\nimport { getAllUserInfos, updateAllUserInfos } from '../../Utils/global'\n\nexport default function Register () {\n  const navigate = useNavigate()\n  const [allUserInfos, setallUserInfos] = useState({})\n  useEffect(() => {\n    setallUserInfos(getAllUserInfos())\n  }, [])\n\n\n  const summitCallback = ({ username, email, password }) => {\n\n    window.scrollTo(0, 0)\n    console.log('username: ', username)\n    console.log('email: ', email)\n    console.log('password: ', password)\n    if (username.length < 1 || email.length < 1 || password.length < 1) {\n      Toast.show({\n        content: \"name or email or password can't empty !\"\n      })\n      return\n    }\n\n\n\n    if (allUserInfos[username]) {\n      Toast.show({\n        content: 'username already exists!'\n      })\n    }\n    else {\n\n\n\n      allUserInfos[username] = {\n        'wishList': [],\n        'postList': [],\n        'avatarUrl': 'https://s2.loli.net/2022/10/05/mHKQROAML3vdDC9.png',\n        'offers': [],\n        'orders': [],\n        'userName': username,\n        'userId': username,\n        'password': password,\n        'email': email,\n        'messageInfos': {}\n      }\n\n\n      updateAllUserInfos(allUserInfos)\n\n      Toast.show({\n        content: 'register is successful !'\n      })\n      navigate('/login')\n    }\n\n\n\n\n  }\n\n\n\n  return <div className={styles.contanier}>\n\n    <div className={styles.contanierContent}>\n      <div className={styles.head_line}>\n        <p>Sign Up</p>\n        <img src={circle_logo} />\n      </div>\n\n      <div onClick={() => {\n        window.scrollTo(0, 0)\n        navigate('/home')\n      }} className={styles.back}>\n        <LeftOutline />\n      </div>\n\n      <div className={styles.form} >\n\n        <Form\n          onFinish={summitCallback}\n          footer={\n            <>\n              <Button block type='submit' size='large'>\n                Register\n              </Button>\n            </>\n          }\n        >\n          <Form.Item\n            name='username'\n            label='username'\n            className={styles.username}\n            rules={[{ required: true, message: 'username is required' }]}\n          >\n            <Input type='text' placeholder='username' />\n          </Form.Item>\n          <Form.Item\n            name='email'\n            label='email'\n            className={styles.email}\n            rules={[{ required: true, message: 'email is required' }]}\n          >\n            <Input type='email' placeholder='email' />\n          </Form.Item>\n          <Form.Item\n            name='password'\n            label='password'\n            rules={[{ required: true, message: 'password is required' }]}\n          >\n            <Input type='password' placeholder='password' />\n          </Form.Item>\n\n          <div>\n\n          </div>\n        </Form>\n        <div className={styles.tips}>\n          <div>Already have an account?\n            <span className={styles.login} onClick={() => {\n              window.scrollTo(0, 0)\n              navigate('/login')\n            }}> Log in</span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}