{"ast":null,"code":"import _defineProperty from \"/Users/stoneye/react_project/circle-app-react-hook/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Users/stoneye/react_project/circle-app-react-hook/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React, { forwardRef, useEffect, useImperativeHandle, useMemo, useRef, useState } from 'react';\nimport { withNativeProps } from '../../utils/native-props';\nimport { mergeProps } from '../../utils/with-default-props';\nimport classNames from 'classnames';\nimport { SwiperItem } from './swiper-item';\nimport { devWarning } from '../../utils/dev-log';\nimport { useSpring, animated } from '@react-spring/web';\nimport { useDrag } from '@use-gesture/react';\nimport PageIndicator from '../page-indicator';\nimport { staged } from 'staged-components';\nimport { useRefState } from '../../utils/use-ref-state';\nimport { bound } from '../../utils/bound';\nimport { useIsomorphicLayoutEffect, useUpdateEffect } from 'ahooks';\nvar classPrefix = \"adm-swiper\";\nvar defaultProps = {\n  defaultIndex: 0,\n  allowTouchMove: true,\n  autoplay: false,\n  autoplayInterval: 3000,\n  loop: false,\n  direction: 'horizontal',\n  slideSize: 100,\n  trackOffset: 0,\n  stuckAtBoundary: true,\n  rubberband: true\n};\nexport var Swiper = forwardRef(staged(function (p, ref) {\n  var props = mergeProps(defaultProps, p);\n  var isVertical = props.direction === 'vertical';\n  var slideRatio = props.slideSize / 100;\n  var offsetRatio = props.trackOffset / 100;\n\n  var _useMemo = useMemo(function () {\n    var count = 0;\n    var validChildren = React.Children.map(props.children, function (child) {\n      if (!React.isValidElement(child)) return null;\n\n      if (child.type !== SwiperItem) {\n        devWarning('Swiper', 'The children of `Swiper` must be `Swiper.Item` components.');\n        return null;\n      }\n\n      count++;\n      return child;\n    });\n    return {\n      validChildren: validChildren,\n      count: count\n    };\n  }, [props.children]),\n      validChildren = _useMemo.validChildren,\n      count = _useMemo.count;\n\n  if (count === 0 || !validChildren) {\n    devWarning('Swiper', '`Swiper` needs at least one child.');\n    return null;\n  }\n\n  return function () {\n    var loop = props.loop;\n\n    if (slideRatio * (count - 1) < 1) {\n      loop = false;\n    }\n\n    var trackRef = useRef(null);\n\n    function getSlidePixels() {\n      var track = trackRef.current;\n      if (!track) return 0;\n      var trackPixels = isVertical ? track.offsetHeight : track.offsetWidth;\n      return trackPixels * props.slideSize / 100;\n    }\n\n    var _useState = useState(props.defaultIndex),\n        _useState2 = _slicedToArray(_useState, 2),\n        current = _useState2[0],\n        setCurrent = _useState2[1];\n\n    useUpdateEffect(function () {\n      var _a;\n\n      (_a = props.onIndexChange) === null || _a === void 0 ? void 0 : _a.call(props, current);\n    }, [current]);\n\n    var _useRefState = useRefState(false),\n        _useRefState2 = _slicedToArray(_useRefState, 3),\n        dragging = _useRefState2[0],\n        setDragging = _useRefState2[1],\n        draggingRef = _useRefState2[2];\n\n    function boundIndex(current) {\n      var min = 0;\n      var max = count - 1;\n\n      if (props.stuckAtBoundary) {\n        min += offsetRatio / slideRatio;\n        max -= (1 - slideRatio - offsetRatio) / slideRatio;\n      }\n\n      return bound(current, min, max);\n    }\n\n    var _useSpring = useSpring(function () {\n      return {\n        position: boundIndex(current) * 100,\n        config: {\n          tension: 200,\n          friction: 30\n        },\n        onRest: function onRest() {\n          if (draggingRef.current) return;\n          if (!loop) return;\n          var rawX = position.get();\n          var totalWidth = 100 * count;\n          var standardPosition = modulus(rawX, totalWidth);\n          if (standardPosition === rawX) return;\n          api.start({\n            position: standardPosition,\n            immediate: true\n          });\n        }\n      };\n    }, [count]),\n        _useSpring2 = _slicedToArray(_useSpring, 2),\n        position = _useSpring2[0].position,\n        api = _useSpring2[1];\n\n    var dragCancelRef = useRef(null);\n\n    function forceCancelDrag() {\n      var _a;\n\n      (_a = dragCancelRef.current) === null || _a === void 0 ? void 0 : _a.call(dragCancelRef);\n      draggingRef.current = false;\n    }\n\n    var bind = useDrag(function (state) {\n      dragCancelRef.current = state.cancel;\n      if (!state.intentional) return;\n      var slidePixels = getSlidePixels();\n      if (!slidePixels) return;\n      var paramIndex = isVertical ? 1 : 0;\n      var offset = state.offset[paramIndex];\n      var direction = state.direction[paramIndex];\n      var velocity = state.velocity[paramIndex];\n      setDragging(true);\n\n      if (!state.last) {\n        api.start({\n          position: offset * 100 / slidePixels,\n          immediate: true\n        });\n      } else {\n        var minIndex = Math.floor(offset / slidePixels);\n        var maxIndex = minIndex + 1;\n        var index = Math.round((offset + velocity * 2000 * direction) / slidePixels);\n        swipeTo(bound(index, minIndex, maxIndex));\n        window.setTimeout(function () {\n          setDragging(false);\n        });\n      }\n    }, {\n      transform: function transform(_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            x = _ref2[0],\n            y = _ref2[1];\n\n        return [-x, -y];\n      },\n      from: function from() {\n        var slidePixels = getSlidePixels();\n        return [position.get() / 100 * slidePixels, position.get() / 100 * slidePixels];\n      },\n      triggerAllEvents: true,\n      bounds: function bounds() {\n        if (loop) return {};\n        var slidePixels = getSlidePixels();\n        var lowerBound = boundIndex(0) * slidePixels;\n        var upperBound = boundIndex(count - 1) * slidePixels;\n        return isVertical ? {\n          top: lowerBound,\n          bottom: upperBound\n        } : {\n          left: lowerBound,\n          right: upperBound\n        };\n      },\n      rubberband: props.rubberband,\n      axis: isVertical ? 'y' : 'x',\n      preventScroll: !isVertical,\n      pointer: {\n        touch: true\n      }\n    });\n\n    function swipeTo(index) {\n      var immediate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var roundedIndex = Math.round(index);\n      var targetIndex = loop ? modulus(roundedIndex, count) : bound(roundedIndex, 0, count - 1);\n      setCurrent(targetIndex);\n      api.start({\n        position: (loop ? roundedIndex : boundIndex(roundedIndex)) * 100,\n        immediate: immediate\n      });\n    }\n\n    function swipeNext() {\n      swipeTo(Math.round(position.get() / 100) + 1);\n    }\n\n    function swipePrev() {\n      swipeTo(Math.round(position.get() / 100) - 1);\n    }\n\n    useImperativeHandle(ref, function () {\n      return {\n        swipeTo: swipeTo,\n        swipeNext: swipeNext,\n        swipePrev: swipePrev\n      };\n    });\n    useIsomorphicLayoutEffect(function () {\n      var maxIndex = validChildren.length - 1;\n\n      if (current > maxIndex) {\n        swipeTo(maxIndex, true);\n      }\n    });\n    var autoplay = props.autoplay,\n        autoplayInterval = props.autoplayInterval;\n    useEffect(function () {\n      if (!autoplay || dragging) return;\n      var interval = window.setInterval(function () {\n        swipeNext();\n      }, autoplayInterval);\n      return function () {\n        window.clearInterval(interval);\n      };\n    }, [autoplay, autoplayInterval, dragging, count]);\n\n    function renderTrackInner() {\n      if (loop) {\n        return React.createElement(\"div\", {\n          className: \"\".concat(classPrefix, \"-track-inner\")\n        }, React.Children.map(validChildren, function (child, index) {\n          var _style;\n\n          return React.createElement(animated.div, {\n            className: \"\".concat(classPrefix, \"-slide\"),\n            style: (_style = {}, _defineProperty(_style, isVertical ? 'y' : 'x', position.to(function (position) {\n              var finalPosition = -position + index * 100;\n              var totalWidth = count * 100;\n              var flagWidth = totalWidth / 2;\n              finalPosition = modulus(finalPosition + flagWidth, totalWidth) - flagWidth;\n              return \"\".concat(finalPosition, \"%\");\n            })), _defineProperty(_style, isVertical ? 'top' : 'left', \"-\".concat(index * 100, \"%\")), _style)\n          }, child);\n        }));\n      } else {\n        return React.createElement(animated.div, {\n          className: \"\".concat(classPrefix, \"-track-inner\"),\n          style: _defineProperty({}, isVertical ? 'y' : 'x', position.to(function (position) {\n            return \"\".concat(-position, \"%\");\n          }))\n        }, React.Children.map(validChildren, function (child) {\n          return React.createElement(\"div\", {\n            className: \"\".concat(classPrefix, \"-slide\")\n          }, child);\n        }));\n      }\n    }\n\n    var style = {\n      '--slide-size': \"\".concat(props.slideSize, \"%\"),\n      '--track-offset': \"\".concat(props.trackOffset, \"%\")\n    };\n    return withNativeProps(props, React.createElement(\"div\", {\n      className: classNames(classPrefix, \"\".concat(classPrefix, \"-\").concat(props.direction)),\n      style: style\n    }, React.createElement(\"div\", Object.assign({\n      ref: trackRef,\n      className: classNames(\"\".concat(classPrefix, \"-track\"), _defineProperty({}, \"\".concat(classPrefix, \"-track-allow-touch-move\"), props.allowTouchMove)),\n      onClickCapture: function onClickCapture(e) {\n        if (draggingRef.current) {\n          e.stopPropagation();\n        }\n\n        forceCancelDrag();\n      }\n    }, props.allowTouchMove ? bind() : {}), renderTrackInner()), props.indicator === undefined ? React.createElement(\"div\", {\n      className: \"\".concat(classPrefix, \"-indicator\")\n    }, React.createElement(PageIndicator, Object.assign({}, props.indicatorProps, {\n      total: count,\n      current: current,\n      direction: props.direction\n    }))) : props.indicator(count, current)));\n  };\n}));\n\nfunction modulus(value, division) {\n  var remainder = value % division;\n  return remainder < 0 ? remainder + division : remainder;\n}","map":{"version":3,"names":["React","forwardRef","useEffect","useImperativeHandle","useMemo","useRef","useState","withNativeProps","mergeProps","classNames","SwiperItem","devWarning","useSpring","animated","useDrag","PageIndicator","staged","useRefState","bound","useIsomorphicLayoutEffect","useUpdateEffect","classPrefix","defaultProps","defaultIndex","allowTouchMove","autoplay","autoplayInterval","loop","direction","slideSize","trackOffset","stuckAtBoundary","rubberband","Swiper","p","ref","props","isVertical","slideRatio","offsetRatio","count","validChildren","Children","map","children","child","isValidElement","type","trackRef","getSlidePixels","track","current","trackPixels","offsetHeight","offsetWidth","setCurrent","_a","onIndexChange","call","dragging","setDragging","draggingRef","boundIndex","min","max","position","config","tension","friction","onRest","rawX","get","totalWidth","standardPosition","modulus","api","start","immediate","dragCancelRef","forceCancelDrag","bind","state","cancel","intentional","slidePixels","paramIndex","offset","velocity","last","minIndex","Math","floor","maxIndex","index","round","swipeTo","window","setTimeout","transform","x","y","from","triggerAllEvents","bounds","lowerBound","upperBound","top","bottom","left","right","axis","preventScroll","pointer","touch","roundedIndex","targetIndex","swipeNext","swipePrev","length","interval","setInterval","clearInterval","renderTrackInner","createElement","className","div","style","to","finalPosition","flagWidth","Object","assign","onClickCapture","e","stopPropagation","indicator","undefined","indicatorProps","total","value","division","remainder"],"sources":["/Users/stoneye/react_project/circle-app-react-hook/node_modules/antd-mobile/es/components/swiper/swiper.js"],"sourcesContent":["import React, { forwardRef, useEffect, useImperativeHandle, useMemo, useRef, useState } from 'react';\nimport { withNativeProps } from '../../utils/native-props';\nimport { mergeProps } from '../../utils/with-default-props';\nimport classNames from 'classnames';\nimport { SwiperItem } from './swiper-item';\nimport { devWarning } from '../../utils/dev-log';\nimport { useSpring, animated } from '@react-spring/web';\nimport { useDrag } from '@use-gesture/react';\nimport PageIndicator from '../page-indicator';\nimport { staged } from 'staged-components';\nimport { useRefState } from '../../utils/use-ref-state';\nimport { bound } from '../../utils/bound';\nimport { useIsomorphicLayoutEffect, useUpdateEffect } from 'ahooks';\nconst classPrefix = `adm-swiper`;\nconst defaultProps = {\n  defaultIndex: 0,\n  allowTouchMove: true,\n  autoplay: false,\n  autoplayInterval: 3000,\n  loop: false,\n  direction: 'horizontal',\n  slideSize: 100,\n  trackOffset: 0,\n  stuckAtBoundary: true,\n  rubberband: true\n};\nexport const Swiper = forwardRef(staged((p, ref) => {\n  const props = mergeProps(defaultProps, p);\n  const isVertical = props.direction === 'vertical';\n  const slideRatio = props.slideSize / 100;\n  const offsetRatio = props.trackOffset / 100;\n  const {\n    validChildren,\n    count\n  } = useMemo(() => {\n    let count = 0;\n    const validChildren = React.Children.map(props.children, child => {\n      if (!React.isValidElement(child)) return null;\n\n      if (child.type !== SwiperItem) {\n        devWarning('Swiper', 'The children of `Swiper` must be `Swiper.Item` components.');\n        return null;\n      }\n\n      count++;\n      return child;\n    });\n    return {\n      validChildren,\n      count\n    };\n  }, [props.children]);\n\n  if (count === 0 || !validChildren) {\n    devWarning('Swiper', '`Swiper` needs at least one child.');\n    return null;\n  }\n\n  return () => {\n    let loop = props.loop;\n\n    if (slideRatio * (count - 1) < 1) {\n      loop = false;\n    }\n\n    const trackRef = useRef(null);\n\n    function getSlidePixels() {\n      const track = trackRef.current;\n      if (!track) return 0;\n      const trackPixels = isVertical ? track.offsetHeight : track.offsetWidth;\n      return trackPixels * props.slideSize / 100;\n    }\n\n    const [current, setCurrent] = useState(props.defaultIndex);\n    useUpdateEffect(() => {\n      var _a;\n\n      (_a = props.onIndexChange) === null || _a === void 0 ? void 0 : _a.call(props, current);\n    }, [current]);\n    const [dragging, setDragging, draggingRef] = useRefState(false);\n\n    function boundIndex(current) {\n      let min = 0;\n      let max = count - 1;\n\n      if (props.stuckAtBoundary) {\n        min += offsetRatio / slideRatio;\n        max -= (1 - slideRatio - offsetRatio) / slideRatio;\n      }\n\n      return bound(current, min, max);\n    }\n\n    const [{\n      position\n    }, api] = useSpring(() => ({\n      position: boundIndex(current) * 100,\n      config: {\n        tension: 200,\n        friction: 30\n      },\n      onRest: () => {\n        if (draggingRef.current) return;\n        if (!loop) return;\n        const rawX = position.get();\n        const totalWidth = 100 * count;\n        const standardPosition = modulus(rawX, totalWidth);\n        if (standardPosition === rawX) return;\n        api.start({\n          position: standardPosition,\n          immediate: true\n        });\n      }\n    }), [count]);\n    const dragCancelRef = useRef(null);\n\n    function forceCancelDrag() {\n      var _a;\n\n      (_a = dragCancelRef.current) === null || _a === void 0 ? void 0 : _a.call(dragCancelRef);\n      draggingRef.current = false;\n    }\n\n    const bind = useDrag(state => {\n      dragCancelRef.current = state.cancel;\n      if (!state.intentional) return;\n      const slidePixels = getSlidePixels();\n      if (!slidePixels) return;\n      const paramIndex = isVertical ? 1 : 0;\n      const offset = state.offset[paramIndex];\n      const direction = state.direction[paramIndex];\n      const velocity = state.velocity[paramIndex];\n      setDragging(true);\n\n      if (!state.last) {\n        api.start({\n          position: offset * 100 / slidePixels,\n          immediate: true\n        });\n      } else {\n        const minIndex = Math.floor(offset / slidePixels);\n        const maxIndex = minIndex + 1;\n        const index = Math.round((offset + velocity * 2000 * direction) / slidePixels);\n        swipeTo(bound(index, minIndex, maxIndex));\n        window.setTimeout(() => {\n          setDragging(false);\n        });\n      }\n    }, {\n      transform: ([x, y]) => [-x, -y],\n      from: () => {\n        const slidePixels = getSlidePixels();\n        return [position.get() / 100 * slidePixels, position.get() / 100 * slidePixels];\n      },\n      triggerAllEvents: true,\n      bounds: () => {\n        if (loop) return {};\n        const slidePixels = getSlidePixels();\n        const lowerBound = boundIndex(0) * slidePixels;\n        const upperBound = boundIndex(count - 1) * slidePixels;\n        return isVertical ? {\n          top: lowerBound,\n          bottom: upperBound\n        } : {\n          left: lowerBound,\n          right: upperBound\n        };\n      },\n      rubberband: props.rubberband,\n      axis: isVertical ? 'y' : 'x',\n      preventScroll: !isVertical,\n      pointer: {\n        touch: true\n      }\n    });\n\n    function swipeTo(index, immediate = false) {\n      const roundedIndex = Math.round(index);\n      const targetIndex = loop ? modulus(roundedIndex, count) : bound(roundedIndex, 0, count - 1);\n      setCurrent(targetIndex);\n      api.start({\n        position: (loop ? roundedIndex : boundIndex(roundedIndex)) * 100,\n        immediate\n      });\n    }\n\n    function swipeNext() {\n      swipeTo(Math.round(position.get() / 100) + 1);\n    }\n\n    function swipePrev() {\n      swipeTo(Math.round(position.get() / 100) - 1);\n    }\n\n    useImperativeHandle(ref, () => ({\n      swipeTo,\n      swipeNext,\n      swipePrev\n    }));\n    useIsomorphicLayoutEffect(() => {\n      const maxIndex = validChildren.length - 1;\n\n      if (current > maxIndex) {\n        swipeTo(maxIndex, true);\n      }\n    });\n    const {\n      autoplay,\n      autoplayInterval\n    } = props;\n    useEffect(() => {\n      if (!autoplay || dragging) return;\n      const interval = window.setInterval(() => {\n        swipeNext();\n      }, autoplayInterval);\n      return () => {\n        window.clearInterval(interval);\n      };\n    }, [autoplay, autoplayInterval, dragging, count]);\n\n    function renderTrackInner() {\n      if (loop) {\n        return React.createElement(\"div\", {\n          className: `${classPrefix}-track-inner`\n        }, React.Children.map(validChildren, (child, index) => {\n          return React.createElement(animated.div, {\n            className: `${classPrefix}-slide`,\n            style: {\n              [isVertical ? 'y' : 'x']: position.to(position => {\n                let finalPosition = -position + index * 100;\n                const totalWidth = count * 100;\n                const flagWidth = totalWidth / 2;\n                finalPosition = modulus(finalPosition + flagWidth, totalWidth) - flagWidth;\n                return `${finalPosition}%`;\n              }),\n              [isVertical ? 'top' : 'left']: `-${index * 100}%`\n            }\n          }, child);\n        }));\n      } else {\n        return React.createElement(animated.div, {\n          className: `${classPrefix}-track-inner`,\n          style: {\n            [isVertical ? 'y' : 'x']: position.to(position => `${-position}%`)\n          }\n        }, React.Children.map(validChildren, child => {\n          return React.createElement(\"div\", {\n            className: `${classPrefix}-slide`\n          }, child);\n        }));\n      }\n    }\n\n    const style = {\n      '--slide-size': `${props.slideSize}%`,\n      '--track-offset': `${props.trackOffset}%`\n    };\n    return withNativeProps(props, React.createElement(\"div\", {\n      className: classNames(classPrefix, `${classPrefix}-${props.direction}`),\n      style: style\n    }, React.createElement(\"div\", Object.assign({\n      ref: trackRef,\n      className: classNames(`${classPrefix}-track`, {\n        [`${classPrefix}-track-allow-touch-move`]: props.allowTouchMove\n      }),\n      onClickCapture: e => {\n        if (draggingRef.current) {\n          e.stopPropagation();\n        }\n\n        forceCancelDrag();\n      }\n    }, props.allowTouchMove ? bind() : {}), renderTrackInner()), props.indicator === undefined ? React.createElement(\"div\", {\n      className: `${classPrefix}-indicator`\n    }, React.createElement(PageIndicator, Object.assign({}, props.indicatorProps, {\n      total: count,\n      current: current,\n      direction: props.direction\n    }))) : props.indicator(count, current)));\n  };\n}));\n\nfunction modulus(value, division) {\n  const remainder = value % division;\n  return remainder < 0 ? remainder + division : remainder;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}