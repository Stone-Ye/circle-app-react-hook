{"ast":null,"code":"import _toConsumableArray from \"/Users/stoneye/react_project/circle-app-react-hook/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _defineProperty from \"/Users/stoneye/react_project/circle-app-react-hook/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Users/stoneye/react_project/circle-app-react-hook/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { withNativeProps } from '../../utils/native-props';\nimport { mergeProps } from '../../utils/with-default-props';\nimport Space from '../space';\nimport Grid from '../grid';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { CheckMark } from './check-mark';\nvar classPrefix = \"adm-selector\";\nvar defaultProps = {\n  multiple: false,\n  defaultValue: [],\n  showCheckMark: true\n};\nexport var Selector = function Selector(p) {\n  var props = mergeProps(defaultProps, p);\n\n  var _usePropsValue = usePropsValue({\n    value: props.value,\n    defaultValue: props.defaultValue,\n    onChange: function onChange(val) {\n      var _a;\n\n      var extend = {\n        get items() {\n          return props.options.filter(function (option) {\n            return val.includes(option.value);\n          });\n        }\n\n      };\n      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, val, extend);\n    }\n  }),\n      _usePropsValue2 = _slicedToArray(_usePropsValue, 2),\n      value = _usePropsValue2[0],\n      setValue = _usePropsValue2[1];\n\n  var items = props.options.map(function (option) {\n    var _classNames;\n\n    var active = (value || []).includes(option.value);\n    var disabled = option.disabled || props.disabled;\n    var itemCls = classNames(\"\".concat(classPrefix, \"-item\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(classPrefix, \"-item-active\"), active && !props.multiple), _defineProperty(_classNames, \"\".concat(classPrefix, \"-item-multiple-active\"), active && props.multiple), _defineProperty(_classNames, \"\".concat(classPrefix, \"-item-disabled\"), disabled), _classNames));\n    return React.createElement(\"div\", {\n      key: option.value,\n      className: itemCls,\n      onClick: function onClick() {\n        if (disabled) {\n          return;\n        }\n\n        if (props.multiple) {\n          var val = active ? value.filter(function (v) {\n            return v !== option.value;\n          }) : [].concat(_toConsumableArray(value), [option.value]);\n          setValue(val);\n        } else {\n          var _val = active ? [] : [option.value];\n\n          setValue(_val);\n        }\n      }\n    }, option.label, option.description && React.createElement(\"div\", {\n      className: \"\".concat(classPrefix, \"-item-description\")\n    }, option.description), active && props.showCheckMark && React.createElement(\"div\", {\n      className: \"\".concat(classPrefix, \"-check-mark-wrapper\")\n    }, React.createElement(CheckMark, null)));\n  });\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, !props.columns && React.createElement(Space, {\n    wrap: true\n  }, items), props.columns && React.createElement(Grid, {\n    columns: props.columns\n  }, items)));\n};","map":{"version":3,"names":["classNames","React","withNativeProps","mergeProps","Space","Grid","usePropsValue","CheckMark","classPrefix","defaultProps","multiple","defaultValue","showCheckMark","Selector","p","props","value","onChange","val","_a","extend","items","options","filter","option","includes","call","setValue","map","active","disabled","itemCls","createElement","key","className","onClick","v","label","description","columns","wrap"],"sources":["/Users/stoneye/react_project/circle-app-react-hook/node_modules/antd-mobile/es/components/selector/selector.js"],"sourcesContent":["import classNames from 'classnames';\nimport React from 'react';\nimport { withNativeProps } from '../../utils/native-props';\nimport { mergeProps } from '../../utils/with-default-props';\nimport Space from '../space';\nimport Grid from '../grid';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { CheckMark } from './check-mark';\nconst classPrefix = `adm-selector`;\nconst defaultProps = {\n  multiple: false,\n  defaultValue: [],\n  showCheckMark: true\n};\nexport const Selector = p => {\n  const props = mergeProps(defaultProps, p);\n  const [value, setValue] = usePropsValue({\n    value: props.value,\n    defaultValue: props.defaultValue,\n    onChange: val => {\n      var _a;\n\n      const extend = {\n        get items() {\n          return props.options.filter(option => val.includes(option.value));\n        }\n\n      };\n      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, val, extend);\n    }\n  });\n  const items = props.options.map(option => {\n    const active = (value || []).includes(option.value);\n    const disabled = option.disabled || props.disabled;\n    const itemCls = classNames(`${classPrefix}-item`, {\n      [`${classPrefix}-item-active`]: active && !props.multiple,\n      [`${classPrefix}-item-multiple-active`]: active && props.multiple,\n      [`${classPrefix}-item-disabled`]: disabled\n    });\n    return React.createElement(\"div\", {\n      key: option.value,\n      className: itemCls,\n      onClick: () => {\n        if (disabled) {\n          return;\n        }\n\n        if (props.multiple) {\n          const val = active ? value.filter(v => v !== option.value) : [...value, option.value];\n          setValue(val);\n        } else {\n          const val = active ? [] : [option.value];\n          setValue(val);\n        }\n      }\n    }, option.label, option.description && React.createElement(\"div\", {\n      className: `${classPrefix}-item-description`\n    }, option.description), active && props.showCheckMark && React.createElement(\"div\", {\n      className: `${classPrefix}-check-mark-wrapper`\n    }, React.createElement(CheckMark, null)));\n  });\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, !props.columns && React.createElement(Space, {\n    wrap: true\n  }, items), props.columns && React.createElement(Grid, {\n    columns: props.columns\n  }, items)));\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}