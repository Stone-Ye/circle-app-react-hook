{"ast":null,"code":"import _regeneratorRuntime from \"/Users/stoneye/react_project/circle-app-react-hook/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport { __awaiter } from \"tslib\";\nimport { show } from './show';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { getDefaultConfig } from '../config-provider';\nvar defaultProps = {\n  confirmText: '确认',\n  cancelText: '取消'\n};\nexport function confirm(p) {\n  var _this = this;\n\n  var _getDefaultConfig = getDefaultConfig(),\n      locale = _getDefaultConfig.locale;\n\n  var props = mergeProps(defaultProps, {\n    confirmText: locale.common.confirm,\n    cancelText: locale.common.cancel\n  }, p);\n  return new Promise(function (resolve) {\n    show(Object.assign(Object.assign({}, props), {\n      closeOnAction: true,\n      onClose: function onClose() {\n        var _a;\n\n        (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);\n        resolve(false);\n      },\n      actions: [[{\n        key: 'cancel',\n        text: props.cancelText,\n        onClick: function onClick() {\n          return __awaiter(_this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n            var _a;\n\n            return _regeneratorRuntime().wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.next = 2;\n                    return (_a = props.onCancel) === null || _a === void 0 ? void 0 : _a.call(props);\n\n                  case 2:\n                    resolve(false);\n\n                  case 3:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee);\n          }));\n        }\n      }, {\n        key: 'confirm',\n        text: props.confirmText,\n        bold: true,\n        onClick: function onClick() {\n          return __awaiter(_this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n            var _b;\n\n            return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    _context2.next = 2;\n                    return (_b = props.onConfirm) === null || _b === void 0 ? void 0 : _b.call(props);\n\n                  case 2:\n                    resolve(true);\n\n                  case 3:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, _callee2);\n          }));\n        }\n      }]]\n    }));\n  });\n}","map":{"version":3,"names":["__awaiter","show","mergeProps","getDefaultConfig","defaultProps","confirmText","cancelText","confirm","p","locale","props","common","cancel","Promise","resolve","Object","assign","closeOnAction","onClose","_a","call","actions","key","text","onClick","onCancel","bold","_b","onConfirm"],"sources":["/Users/stoneye/react_project/circle-app-react-hook/node_modules/antd-mobile/es/components/dialog/confirm.js"],"sourcesContent":["import { __awaiter } from \"tslib\";\nimport { show } from './show';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { getDefaultConfig } from '../config-provider';\nconst defaultProps = {\n  confirmText: '确认',\n  cancelText: '取消'\n};\nexport function confirm(p) {\n  const {\n    locale\n  } = getDefaultConfig();\n  const props = mergeProps(defaultProps, {\n    confirmText: locale.common.confirm,\n    cancelText: locale.common.cancel\n  }, p);\n  return new Promise(resolve => {\n    show(Object.assign(Object.assign({}, props), {\n      closeOnAction: true,\n      onClose: () => {\n        var _a;\n\n        (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);\n        resolve(false);\n      },\n      actions: [[{\n        key: 'cancel',\n        text: props.cancelText,\n        onClick: () => __awaiter(this, void 0, void 0, function* () {\n          var _a;\n\n          yield (_a = props.onCancel) === null || _a === void 0 ? void 0 : _a.call(props);\n          resolve(false);\n        })\n      }, {\n        key: 'confirm',\n        text: props.confirmText,\n        bold: true,\n        onClick: () => __awaiter(this, void 0, void 0, function* () {\n          var _b;\n\n          yield (_b = props.onConfirm) === null || _b === void 0 ? void 0 : _b.call(props);\n          resolve(true);\n        })\n      }]]\n    }));\n  });\n}"],"mappings":";AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,IAAT,QAAqB,QAArB;AACA,SAASC,UAAT,QAA2B,gCAA3B;AACA,SAASC,gBAAT,QAAiC,oBAAjC;AACA,IAAMC,YAAY,GAAG;EACnBC,WAAW,EAAE,IADM;EAEnBC,UAAU,EAAE;AAFO,CAArB;AAIA,OAAO,SAASC,OAAT,CAAiBC,CAAjB,EAAoB;EAAA;;EACzB,wBAEIL,gBAAgB,EAFpB;EAAA,IACEM,MADF,qBACEA,MADF;;EAGA,IAAMC,KAAK,GAAGR,UAAU,CAACE,YAAD,EAAe;IACrCC,WAAW,EAAEI,MAAM,CAACE,MAAP,CAAcJ,OADU;IAErCD,UAAU,EAAEG,MAAM,CAACE,MAAP,CAAcC;EAFW,CAAf,EAGrBJ,CAHqB,CAAxB;EAIA,OAAO,IAAIK,OAAJ,CAAY,UAAAC,OAAO,EAAI;IAC5Bb,IAAI,CAACc,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBN,KAAlB,CAAd,EAAwC;MAC3CO,aAAa,EAAE,IAD4B;MAE3CC,OAAO,EAAE,mBAAM;QACb,IAAIC,EAAJ;;QAEA,CAACA,EAAE,GAAGT,KAAK,CAACQ,OAAZ,MAAyB,IAAzB,IAAiCC,EAAE,KAAK,KAAK,CAA7C,GAAiD,KAAK,CAAtD,GAA0DA,EAAE,CAACC,IAAH,CAAQV,KAAR,CAA1D;QACAI,OAAO,CAAC,KAAD,CAAP;MACD,CAP0C;MAQ3CO,OAAO,EAAE,CAAC,CAAC;QACTC,GAAG,EAAE,QADI;QAETC,IAAI,EAAEb,KAAK,CAACJ,UAFH;QAGTkB,OAAO,EAAE;UAAA,OAAMxB,SAAS,CAAC,KAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,0CAAuB;YAAA;;YAAA;cAAA;gBAAA;kBAAA;oBAAA;oBAG7C,OAAM,CAACmB,EAAE,GAAGT,KAAK,CAACe,QAAZ,MAA0B,IAA1B,IAAkCN,EAAE,KAAK,KAAK,CAA9C,GAAkD,KAAK,CAAvD,GAA2DA,EAAE,CAACC,IAAH,CAAQV,KAAR,CAAjE;;kBAH6C;oBAI7CI,OAAO,CAAC,KAAD,CAAP;;kBAJ6C;kBAAA;oBAAA;gBAAA;cAAA;YAAA;UAAA,CAAvB,EAAf;QAAA;MAHA,CAAD,EASP;QACDQ,GAAG,EAAE,SADJ;QAEDC,IAAI,EAAEb,KAAK,CAACL,WAFX;QAGDqB,IAAI,EAAE,IAHL;QAIDF,OAAO,EAAE;UAAA,OAAMxB,SAAS,CAAC,KAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,0CAAuB;YAAA;;YAAA;cAAA;gBAAA;kBAAA;oBAAA;oBAG7C,OAAM,CAAC2B,EAAE,GAAGjB,KAAK,CAACkB,SAAZ,MAA2B,IAA3B,IAAmCD,EAAE,KAAK,KAAK,CAA/C,GAAmD,KAAK,CAAxD,GAA4DA,EAAE,CAACP,IAAH,CAAQV,KAAR,CAAlE;;kBAH6C;oBAI7CI,OAAO,CAAC,IAAD,CAAP;;kBAJ6C;kBAAA;oBAAA;gBAAA;cAAA;YAAA;UAAA,CAAvB,EAAf;QAAA;MAJR,CATO,CAAD;IARkC,CAAxC,CAAD,CAAJ;EA6BD,CA9BM,CAAP;AA+BD"},"metadata":{},"sourceType":"module"}