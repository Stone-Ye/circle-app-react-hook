{"ast":null,"code":"import _defineProperty from \"/Users/stoneye/react_project/circle-app-react-hook/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Users/stoneye/react_project/circle-app-react-hook/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React from 'react';\nimport classNames from 'classnames';\nimport Badge from '../badge';\nimport { withNativeProps } from '../../utils/native-props';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { Corner } from './corner';\nimport { traverseReactNode } from '../../utils/traverse-react-node';\nvar classPrefix = \"adm-side-bar\";\n/* istanbul ignore next */\n\nexport var SideBarItem = function SideBarItem() {\n  return null;\n};\nexport var SideBar = function SideBar(props) {\n  var _a;\n\n  var firstActiveKey = null;\n  var items = [];\n  traverseReactNode(props.children, function (child, index) {\n    if (!React.isValidElement(child)) return;\n    var key = child.key;\n    if (typeof key !== 'string') return;\n\n    if (index === 0) {\n      firstActiveKey = key;\n    }\n\n    items.push(child);\n  });\n\n  var _usePropsValue = usePropsValue({\n    value: props.activeKey,\n    defaultValue: (_a = props.defaultActiveKey) !== null && _a !== void 0 ? _a : firstActiveKey,\n    onChange: function onChange(v) {\n      var _a;\n\n      if (v === null) return;\n      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, v);\n    }\n  }),\n      _usePropsValue2 = _slicedToArray(_usePropsValue, 2),\n      activeKey = _usePropsValue2[0],\n      setActiveKey = _usePropsValue2[1];\n\n  var lastItem = items[items.length - 1];\n  var isLastItemActive = lastItem && lastItem.key === activeKey;\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, React.createElement(\"div\", {\n    className: \"\".concat(classPrefix, \"-items\")\n  }, items.map(function (item, index) {\n    var _classNames;\n\n    var active = item.key === activeKey;\n    var isActiveNextSibling = items[index - 1] && items[index - 1].key === activeKey;\n    var isActivePreviousSibling = items[index + 1] && items[index + 1].key === activeKey;\n    return withNativeProps(item.props, React.createElement(\"div\", {\n      key: item.key,\n      onClick: function onClick() {\n        var key = item.key;\n        if (key === undefined || key === null || item.props.disabled) return;\n        setActiveKey(key.toString());\n      },\n      className: classNames(\"\".concat(classPrefix, \"-item\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(classPrefix, \"-item-active\"), active), _defineProperty(_classNames, \"\".concat(classPrefix, \"-item-disabled\"), item.props.disabled), _classNames))\n    }, React.createElement(React.Fragment, null, isActiveNextSibling && React.createElement(Corner, {\n      className: \"\".concat(classPrefix, \"-item-corner \").concat(classPrefix, \"-item-corner-top\")\n    }), isActivePreviousSibling && React.createElement(Corner, {\n      className: \"\".concat(classPrefix, \"-item-corner \").concat(classPrefix, \"-item-corner-bottom\")\n    })), React.createElement(Badge, {\n      content: item.props.badge,\n      className: \"\".concat(classPrefix, \"-badge\")\n    }, React.createElement(\"div\", {\n      className: \"\".concat(classPrefix, \"-item-title\")\n    }, active && React.createElement(\"div\", {\n      className: \"\".concat(classPrefix, \"-item-highlight\")\n    }), item.props.title))));\n  })), React.createElement(\"div\", {\n    className: classNames(\"\".concat(classPrefix, \"-extra-space\"), isLastItemActive && \"\".concat(classPrefix, \"-item-active-next-sibling\"))\n  }, isLastItemActive && React.createElement(Corner, {\n    className: \"\".concat(classPrefix, \"-item-corner \").concat(classPrefix, \"-item-corner-top\")\n  }))));\n};","map":{"version":3,"names":["React","classNames","Badge","withNativeProps","usePropsValue","Corner","traverseReactNode","classPrefix","SideBarItem","SideBar","props","_a","firstActiveKey","items","children","child","index","isValidElement","key","push","value","activeKey","defaultValue","defaultActiveKey","onChange","v","call","setActiveKey","lastItem","length","isLastItemActive","createElement","className","map","item","active","isActiveNextSibling","isActivePreviousSibling","onClick","undefined","disabled","toString","Fragment","content","badge","title"],"sources":["/Users/stoneye/react_project/circle-app-react-hook/node_modules/antd-mobile/es/components/side-bar/side-bar.js"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport Badge from '../badge';\nimport { withNativeProps } from '../../utils/native-props';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { Corner } from './corner';\nimport { traverseReactNode } from '../../utils/traverse-react-node';\nconst classPrefix = `adm-side-bar`;\n/* istanbul ignore next */\n\nexport const SideBarItem = () => {\n  return null;\n};\nexport const SideBar = props => {\n  var _a;\n\n  let firstActiveKey = null;\n  const items = [];\n  traverseReactNode(props.children, (child, index) => {\n    if (!React.isValidElement(child)) return;\n    const key = child.key;\n    if (typeof key !== 'string') return;\n\n    if (index === 0) {\n      firstActiveKey = key;\n    }\n\n    items.push(child);\n  });\n  const [activeKey, setActiveKey] = usePropsValue({\n    value: props.activeKey,\n    defaultValue: (_a = props.defaultActiveKey) !== null && _a !== void 0 ? _a : firstActiveKey,\n    onChange: v => {\n      var _a;\n\n      if (v === null) return;\n      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, v);\n    }\n  });\n  const lastItem = items[items.length - 1];\n  const isLastItemActive = lastItem && lastItem.key === activeKey;\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, React.createElement(\"div\", {\n    className: `${classPrefix}-items`\n  }, items.map((item, index) => {\n    const active = item.key === activeKey;\n    const isActiveNextSibling = items[index - 1] && items[index - 1].key === activeKey;\n    const isActivePreviousSibling = items[index + 1] && items[index + 1].key === activeKey;\n    return withNativeProps(item.props, React.createElement(\"div\", {\n      key: item.key,\n      onClick: () => {\n        const {\n          key\n        } = item;\n        if (key === undefined || key === null || item.props.disabled) return;\n        setActiveKey(key.toString());\n      },\n      className: classNames(`${classPrefix}-item`, {\n        [`${classPrefix}-item-active`]: active,\n        [`${classPrefix}-item-disabled`]: item.props.disabled\n      })\n    }, React.createElement(React.Fragment, null, isActiveNextSibling && React.createElement(Corner, {\n      className: `${classPrefix}-item-corner ${classPrefix}-item-corner-top`\n    }), isActivePreviousSibling && React.createElement(Corner, {\n      className: `${classPrefix}-item-corner ${classPrefix}-item-corner-bottom`\n    })), React.createElement(Badge, {\n      content: item.props.badge,\n      className: `${classPrefix}-badge`\n    }, React.createElement(\"div\", {\n      className: `${classPrefix}-item-title`\n    }, active && React.createElement(\"div\", {\n      className: `${classPrefix}-item-highlight`\n    }), item.props.title))));\n  })), React.createElement(\"div\", {\n    className: classNames(`${classPrefix}-extra-space`, isLastItemActive && `${classPrefix}-item-active-next-sibling`)\n  }, isLastItemActive && React.createElement(Corner, {\n    className: `${classPrefix}-item-corner ${classPrefix}-item-corner-top`\n  }))));\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}