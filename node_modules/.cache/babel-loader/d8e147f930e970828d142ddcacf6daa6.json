{"ast":null,"code":"import { requestAnimationTimeout, cancelAnimationTimeout } from '../../utils/requestAnimationTimeout';\nvar mountedInstances = [];\nvar originalBodyPointerEvents = null;\nvar disablePointerEventsTimeoutId = null;\n\nfunction enablePointerEventsIfDisabled() {\n  if (disablePointerEventsTimeoutId) {\n    disablePointerEventsTimeoutId = null;\n\n    if (document.body && originalBodyPointerEvents != null) {\n      document.body.style.pointerEvents = originalBodyPointerEvents;\n    }\n\n    originalBodyPointerEvents = null;\n  }\n}\n\nfunction enablePointerEventsAfterDelayCallback() {\n  enablePointerEventsIfDisabled();\n  mountedInstances.forEach(function (instance) {\n    return instance.__resetIsScrolling();\n  });\n}\n\nfunction enablePointerEventsAfterDelay() {\n  if (disablePointerEventsTimeoutId) {\n    cancelAnimationTimeout(disablePointerEventsTimeoutId);\n  }\n\n  var maximumTimeout = 0;\n  mountedInstances.forEach(function (instance) {\n    maximumTimeout = Math.max(maximumTimeout, instance.props.scrollingResetTimeInterval);\n  });\n  disablePointerEventsTimeoutId = requestAnimationTimeout(enablePointerEventsAfterDelayCallback, maximumTimeout);\n}\n\nfunction onScrollWindow(event) {\n  if (event.currentTarget === window && originalBodyPointerEvents == null && document.body) {\n    originalBodyPointerEvents = document.body.style.pointerEvents;\n    document.body.style.pointerEvents = 'none';\n  }\n\n  enablePointerEventsAfterDelay();\n  mountedInstances.forEach(function (instance) {\n    if (instance.props.scrollElement === event.currentTarget) {\n      instance.__handleWindowScrollEvent();\n    }\n  });\n}\n\nexport function registerScrollListener(component, element) {\n  if (!mountedInstances.some(function (instance) {\n    return instance.props.scrollElement === element;\n  })) {\n    element.addEventListener('scroll', onScrollWindow);\n  }\n\n  mountedInstances.push(component);\n}\nexport function unregisterScrollListener(component, element) {\n  mountedInstances = mountedInstances.filter(function (instance) {\n    return instance !== component;\n  });\n\n  if (!mountedInstances.length) {\n    element.removeEventListener('scroll', onScrollWindow);\n\n    if (disablePointerEventsTimeoutId) {\n      cancelAnimationTimeout(disablePointerEventsTimeoutId);\n      enablePointerEventsIfDisabled();\n    }\n  }\n}\nimport { bpfrpt_proptype_WindowScroller } from \"../WindowScroller.js\";","map":{"version":3,"names":["requestAnimationTimeout","cancelAnimationTimeout","mountedInstances","originalBodyPointerEvents","disablePointerEventsTimeoutId","enablePointerEventsIfDisabled","document","body","style","pointerEvents","enablePointerEventsAfterDelayCallback","forEach","instance","__resetIsScrolling","enablePointerEventsAfterDelay","maximumTimeout","Math","max","props","scrollingResetTimeInterval","onScrollWindow","event","currentTarget","window","scrollElement","__handleWindowScrollEvent","registerScrollListener","component","element","some","addEventListener","push","unregisterScrollListener","filter","length","removeEventListener","bpfrpt_proptype_WindowScroller"],"sources":["/Users/stoneye/react_project/circle-app-react-hook/node_modules/react-virtualized/dist/es/WindowScroller/utils/onScroll.js"],"sourcesContent":["import { requestAnimationTimeout, cancelAnimationTimeout } from '../../utils/requestAnimationTimeout';\nvar mountedInstances = [];\nvar originalBodyPointerEvents = null;\nvar disablePointerEventsTimeoutId = null;\n\nfunction enablePointerEventsIfDisabled() {\n  if (disablePointerEventsTimeoutId) {\n    disablePointerEventsTimeoutId = null;\n\n    if (document.body && originalBodyPointerEvents != null) {\n      document.body.style.pointerEvents = originalBodyPointerEvents;\n    }\n\n    originalBodyPointerEvents = null;\n  }\n}\n\nfunction enablePointerEventsAfterDelayCallback() {\n  enablePointerEventsIfDisabled();\n  mountedInstances.forEach(function (instance) {\n    return instance.__resetIsScrolling();\n  });\n}\n\nfunction enablePointerEventsAfterDelay() {\n  if (disablePointerEventsTimeoutId) {\n    cancelAnimationTimeout(disablePointerEventsTimeoutId);\n  }\n\n  var maximumTimeout = 0;\n  mountedInstances.forEach(function (instance) {\n    maximumTimeout = Math.max(maximumTimeout, instance.props.scrollingResetTimeInterval);\n  });\n  disablePointerEventsTimeoutId = requestAnimationTimeout(enablePointerEventsAfterDelayCallback, maximumTimeout);\n}\n\nfunction onScrollWindow(event) {\n  if (event.currentTarget === window && originalBodyPointerEvents == null && document.body) {\n    originalBodyPointerEvents = document.body.style.pointerEvents;\n    document.body.style.pointerEvents = 'none';\n  }\n\n  enablePointerEventsAfterDelay();\n  mountedInstances.forEach(function (instance) {\n    if (instance.props.scrollElement === event.currentTarget) {\n      instance.__handleWindowScrollEvent();\n    }\n  });\n}\n\nexport function registerScrollListener(component, element) {\n  if (!mountedInstances.some(function (instance) {\n    return instance.props.scrollElement === element;\n  })) {\n    element.addEventListener('scroll', onScrollWindow);\n  }\n\n  mountedInstances.push(component);\n}\nexport function unregisterScrollListener(component, element) {\n  mountedInstances = mountedInstances.filter(function (instance) {\n    return instance !== component;\n  });\n\n  if (!mountedInstances.length) {\n    element.removeEventListener('scroll', onScrollWindow);\n\n    if (disablePointerEventsTimeoutId) {\n      cancelAnimationTimeout(disablePointerEventsTimeoutId);\n      enablePointerEventsIfDisabled();\n    }\n  }\n}\nimport { bpfrpt_proptype_WindowScroller } from \"../WindowScroller.js\";"],"mappings":"AAAA,SAASA,uBAAT,EAAkCC,sBAAlC,QAAgE,qCAAhE;AACA,IAAIC,gBAAgB,GAAG,EAAvB;AACA,IAAIC,yBAAyB,GAAG,IAAhC;AACA,IAAIC,6BAA6B,GAAG,IAApC;;AAEA,SAASC,6BAAT,GAAyC;EACvC,IAAID,6BAAJ,EAAmC;IACjCA,6BAA6B,GAAG,IAAhC;;IAEA,IAAIE,QAAQ,CAACC,IAAT,IAAiBJ,yBAAyB,IAAI,IAAlD,EAAwD;MACtDG,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBC,aAApB,GAAoCN,yBAApC;IACD;;IAEDA,yBAAyB,GAAG,IAA5B;EACD;AACF;;AAED,SAASO,qCAAT,GAAiD;EAC/CL,6BAA6B;EAC7BH,gBAAgB,CAACS,OAAjB,CAAyB,UAAUC,QAAV,EAAoB;IAC3C,OAAOA,QAAQ,CAACC,kBAAT,EAAP;EACD,CAFD;AAGD;;AAED,SAASC,6BAAT,GAAyC;EACvC,IAAIV,6BAAJ,EAAmC;IACjCH,sBAAsB,CAACG,6BAAD,CAAtB;EACD;;EAED,IAAIW,cAAc,GAAG,CAArB;EACAb,gBAAgB,CAACS,OAAjB,CAAyB,UAAUC,QAAV,EAAoB;IAC3CG,cAAc,GAAGC,IAAI,CAACC,GAAL,CAASF,cAAT,EAAyBH,QAAQ,CAACM,KAAT,CAAeC,0BAAxC,CAAjB;EACD,CAFD;EAGAf,6BAA6B,GAAGJ,uBAAuB,CAACU,qCAAD,EAAwCK,cAAxC,CAAvD;AACD;;AAED,SAASK,cAAT,CAAwBC,KAAxB,EAA+B;EAC7B,IAAIA,KAAK,CAACC,aAAN,KAAwBC,MAAxB,IAAkCpB,yBAAyB,IAAI,IAA/D,IAAuEG,QAAQ,CAACC,IAApF,EAA0F;IACxFJ,yBAAyB,GAAGG,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBC,aAAhD;IACAH,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBC,aAApB,GAAoC,MAApC;EACD;;EAEDK,6BAA6B;EAC7BZ,gBAAgB,CAACS,OAAjB,CAAyB,UAAUC,QAAV,EAAoB;IAC3C,IAAIA,QAAQ,CAACM,KAAT,CAAeM,aAAf,KAAiCH,KAAK,CAACC,aAA3C,EAA0D;MACxDV,QAAQ,CAACa,yBAAT;IACD;EACF,CAJD;AAKD;;AAED,OAAO,SAASC,sBAAT,CAAgCC,SAAhC,EAA2CC,OAA3C,EAAoD;EACzD,IAAI,CAAC1B,gBAAgB,CAAC2B,IAAjB,CAAsB,UAAUjB,QAAV,EAAoB;IAC7C,OAAOA,QAAQ,CAACM,KAAT,CAAeM,aAAf,KAAiCI,OAAxC;EACD,CAFI,CAAL,EAEI;IACFA,OAAO,CAACE,gBAAR,CAAyB,QAAzB,EAAmCV,cAAnC;EACD;;EAEDlB,gBAAgB,CAAC6B,IAAjB,CAAsBJ,SAAtB;AACD;AACD,OAAO,SAASK,wBAAT,CAAkCL,SAAlC,EAA6CC,OAA7C,EAAsD;EAC3D1B,gBAAgB,GAAGA,gBAAgB,CAAC+B,MAAjB,CAAwB,UAAUrB,QAAV,EAAoB;IAC7D,OAAOA,QAAQ,KAAKe,SAApB;EACD,CAFkB,CAAnB;;EAIA,IAAI,CAACzB,gBAAgB,CAACgC,MAAtB,EAA8B;IAC5BN,OAAO,CAACO,mBAAR,CAA4B,QAA5B,EAAsCf,cAAtC;;IAEA,IAAIhB,6BAAJ,EAAmC;MACjCH,sBAAsB,CAACG,6BAAD,CAAtB;MACAC,6BAA6B;IAC9B;EACF;AACF;AACD,SAAS+B,8BAAT,QAA+C,sBAA/C"},"metadata":{},"sourceType":"module"}