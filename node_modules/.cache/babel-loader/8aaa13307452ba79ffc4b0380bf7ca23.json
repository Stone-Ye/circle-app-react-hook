{"ast":null,"code":"import _slicedToArray from \"/Users/stoneye/react_project/circle-app-react-hook/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React, { useRef, useState } from 'react';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { withNativeProps } from '../../utils/native-props';\nimport { useResizeEffect } from '../../utils/use-resize-effect';\nimport { useIsomorphicLayoutEffect } from 'ahooks';\nimport { withStopPropagation } from '../../utils/with-stop-propagation';\nvar classPrefix = \"adm-ellipsis\";\nvar defaultProps = {\n  direction: 'end',\n  rows: 1,\n  expandText: '',\n  collapseText: '',\n  stopPropagationForActionButtons: [],\n  onContentClick: function onContentClick() {}\n};\nexport var Ellipsis = function Ellipsis(p) {\n  var props = mergeProps(defaultProps, p);\n  var rootRef = useRef(null);\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      ellipsised = _useState2[0],\n      setEllipsised = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      expanded = _useState4[0],\n      setExpanded = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      exceeded = _useState6[0],\n      setExceeded = _useState6[1];\n\n  function calcEllipsised() {\n    var root = rootRef.current;\n    if (!root) return;\n    if (!root.offsetParent) return;\n    var originStyle = window.getComputedStyle(root);\n    var container = document.createElement('div');\n    var styleNames = Array.prototype.slice.apply(originStyle);\n    styleNames.forEach(function (name) {\n      container.style.setProperty(name, originStyle.getPropertyValue(name));\n    });\n    container.style.position = 'fixed';\n    container.style.left = '999999px';\n    container.style.top = '999999px';\n    container.style.zIndex = '-1000';\n    container.style.height = 'auto';\n    container.style.minHeight = 'auto';\n    container.style.maxHeight = 'auto';\n    container.style.textOverflow = 'clip';\n    container.style.whiteSpace = 'normal';\n    container.style.webkitLineClamp = 'unset';\n    container.style.display = 'block';\n    var lineHeight = pxToNumber(originStyle.lineHeight);\n    var maxHeight = Math.floor(lineHeight * (props.rows + 0.5) + pxToNumber(originStyle.paddingTop) + pxToNumber(originStyle.paddingBottom));\n    container.innerText = props.content;\n    document.body.appendChild(container);\n\n    if (container.offsetHeight <= maxHeight) {\n      setExceeded(false);\n    } else {\n      var check = function check(left, right) {\n        if (right - left <= 1) {\n          if (props.direction === 'end') {\n            return {\n              leading: props.content.slice(0, left) + '...'\n            };\n          } else {\n            return {\n              tailing: '...' + props.content.slice(right, end)\n            };\n          }\n        }\n\n        var middle = Math.round((left + right) / 2);\n\n        if (props.direction === 'end') {\n          container.innerText = props.content.slice(0, middle) + '...' + actionText;\n        } else {\n          container.innerText = actionText + '...' + props.content.slice(middle, end);\n        }\n\n        if (container.offsetHeight <= maxHeight) {\n          if (props.direction === 'end') {\n            return check(middle, right);\n          } else {\n            return check(left, middle);\n          }\n        } else {\n          if (props.direction === 'end') {\n            return check(left, middle);\n          } else {\n            return check(middle, right);\n          }\n        }\n      };\n\n      var checkMiddle = function checkMiddle(leftPart, rightPart) {\n        if (leftPart[1] - leftPart[0] <= 1 && rightPart[1] - rightPart[0] <= 1) {\n          return {\n            leading: props.content.slice(0, leftPart[0]) + '...',\n            tailing: '...' + props.content.slice(rightPart[1], end)\n          };\n        }\n\n        var leftPartMiddle = Math.floor((leftPart[0] + leftPart[1]) / 2);\n        var rightPartMiddle = Math.ceil((rightPart[0] + rightPart[1]) / 2);\n        container.innerText = props.content.slice(0, leftPartMiddle) + '...' + actionText + '...' + props.content.slice(rightPartMiddle, end);\n\n        if (container.offsetHeight <= maxHeight) {\n          return checkMiddle([leftPartMiddle, leftPart[1]], [rightPart[0], rightPartMiddle]);\n        } else {\n          return checkMiddle([leftPart[0], leftPartMiddle], [rightPartMiddle, rightPart[1]]);\n        }\n      };\n\n      setExceeded(true);\n      var end = props.content.length;\n      var actionText = expanded ? props.collapseText : props.expandText;\n      var middle = Math.floor((0 + end) / 2);\n\n      var _ellipsised = props.direction === 'middle' ? checkMiddle([0, middle], [middle, end]) : check(0, end);\n\n      setEllipsised(_ellipsised);\n    }\n\n    document.body.removeChild(container);\n  }\n\n  useResizeEffect(calcEllipsised, rootRef);\n  useIsomorphicLayoutEffect(function () {\n    calcEllipsised();\n  }, [props.content, props.direction, props.rows, props.expandText, props.collapseText]);\n  var expandActionElement = exceeded && props.expandText ? withStopPropagation(props.stopPropagationForActionButtons, React.createElement(\"a\", {\n    onClick: function onClick() {\n      setExpanded(true);\n    }\n  }, props.expandText)) : null;\n  var collapseActionElement = exceeded && props.expandText ? withStopPropagation(props.stopPropagationForActionButtons, React.createElement(\"a\", {\n    onClick: function onClick() {\n      setExpanded(false);\n    }\n  }, props.collapseText)) : null;\n\n  var renderContent = function renderContent() {\n    if (!exceeded) {\n      return props.content;\n    }\n\n    if (expanded) {\n      return React.createElement(React.Fragment, null, props.content, collapseActionElement);\n    } else {\n      return React.createElement(React.Fragment, null, ellipsised.leading, expandActionElement, ellipsised.tailing);\n    }\n  };\n\n  return withNativeProps(props, React.createElement(\"div\", {\n    ref: rootRef,\n    className: classPrefix,\n    onClick: function onClick(e) {\n      if (e.target === e.currentTarget) {\n        props.onContentClick(e);\n      }\n    }\n  }, renderContent()));\n};\n\nfunction pxToNumber(value) {\n  if (!value) return 0;\n  var match = value.match(/^\\d*(\\.\\d*)?/);\n  return match ? Number(match[0]) : 0;\n}","map":{"version":3,"names":["React","useRef","useState","mergeProps","withNativeProps","useResizeEffect","useIsomorphicLayoutEffect","withStopPropagation","classPrefix","defaultProps","direction","rows","expandText","collapseText","stopPropagationForActionButtons","onContentClick","Ellipsis","p","props","rootRef","ellipsised","setEllipsised","expanded","setExpanded","exceeded","setExceeded","calcEllipsised","root","current","offsetParent","originStyle","window","getComputedStyle","container","document","createElement","styleNames","Array","prototype","slice","apply","forEach","name","style","setProperty","getPropertyValue","position","left","top","zIndex","height","minHeight","maxHeight","textOverflow","whiteSpace","webkitLineClamp","display","lineHeight","pxToNumber","Math","floor","paddingTop","paddingBottom","innerText","content","body","appendChild","offsetHeight","check","right","leading","tailing","end","middle","round","actionText","checkMiddle","leftPart","rightPart","leftPartMiddle","rightPartMiddle","ceil","length","removeChild","expandActionElement","onClick","collapseActionElement","renderContent","Fragment","ref","className","e","target","currentTarget","value","match","Number"],"sources":["/Users/stoneye/react_project/circle-app-react-hook/node_modules/antd-mobile/es/components/ellipsis/ellipsis.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { withNativeProps } from '../../utils/native-props';\nimport { useResizeEffect } from '../../utils/use-resize-effect';\nimport { useIsomorphicLayoutEffect } from 'ahooks';\nimport { withStopPropagation } from '../../utils/with-stop-propagation';\nconst classPrefix = `adm-ellipsis`;\nconst defaultProps = {\n  direction: 'end',\n  rows: 1,\n  expandText: '',\n  collapseText: '',\n  stopPropagationForActionButtons: [],\n  onContentClick: () => {}\n};\nexport const Ellipsis = p => {\n  const props = mergeProps(defaultProps, p);\n  const rootRef = useRef(null);\n  const [ellipsised, setEllipsised] = useState({});\n  const [expanded, setExpanded] = useState(false);\n  const [exceeded, setExceeded] = useState(false);\n\n  function calcEllipsised() {\n    const root = rootRef.current;\n    if (!root) return;\n    if (!root.offsetParent) return;\n    const originStyle = window.getComputedStyle(root);\n    const container = document.createElement('div');\n    const styleNames = Array.prototype.slice.apply(originStyle);\n    styleNames.forEach(name => {\n      container.style.setProperty(name, originStyle.getPropertyValue(name));\n    });\n    container.style.position = 'fixed';\n    container.style.left = '999999px';\n    container.style.top = '999999px';\n    container.style.zIndex = '-1000';\n    container.style.height = 'auto';\n    container.style.minHeight = 'auto';\n    container.style.maxHeight = 'auto';\n    container.style.textOverflow = 'clip';\n    container.style.whiteSpace = 'normal';\n    container.style.webkitLineClamp = 'unset';\n    container.style.display = 'block';\n    const lineHeight = pxToNumber(originStyle.lineHeight);\n    const maxHeight = Math.floor(lineHeight * (props.rows + 0.5) + pxToNumber(originStyle.paddingTop) + pxToNumber(originStyle.paddingBottom));\n    container.innerText = props.content;\n    document.body.appendChild(container);\n\n    if (container.offsetHeight <= maxHeight) {\n      setExceeded(false);\n    } else {\n      setExceeded(true);\n      const end = props.content.length;\n      const actionText = expanded ? props.collapseText : props.expandText;\n\n      function check(left, right) {\n        if (right - left <= 1) {\n          if (props.direction === 'end') {\n            return {\n              leading: props.content.slice(0, left) + '...'\n            };\n          } else {\n            return {\n              tailing: '...' + props.content.slice(right, end)\n            };\n          }\n        }\n\n        const middle = Math.round((left + right) / 2);\n\n        if (props.direction === 'end') {\n          container.innerText = props.content.slice(0, middle) + '...' + actionText;\n        } else {\n          container.innerText = actionText + '...' + props.content.slice(middle, end);\n        }\n\n        if (container.offsetHeight <= maxHeight) {\n          if (props.direction === 'end') {\n            return check(middle, right);\n          } else {\n            return check(left, middle);\n          }\n        } else {\n          if (props.direction === 'end') {\n            return check(left, middle);\n          } else {\n            return check(middle, right);\n          }\n        }\n      }\n\n      function checkMiddle(leftPart, rightPart) {\n        if (leftPart[1] - leftPart[0] <= 1 && rightPart[1] - rightPart[0] <= 1) {\n          return {\n            leading: props.content.slice(0, leftPart[0]) + '...',\n            tailing: '...' + props.content.slice(rightPart[1], end)\n          };\n        }\n\n        const leftPartMiddle = Math.floor((leftPart[0] + leftPart[1]) / 2);\n        const rightPartMiddle = Math.ceil((rightPart[0] + rightPart[1]) / 2);\n        container.innerText = props.content.slice(0, leftPartMiddle) + '...' + actionText + '...' + props.content.slice(rightPartMiddle, end);\n\n        if (container.offsetHeight <= maxHeight) {\n          return checkMiddle([leftPartMiddle, leftPart[1]], [rightPart[0], rightPartMiddle]);\n        } else {\n          return checkMiddle([leftPart[0], leftPartMiddle], [rightPartMiddle, rightPart[1]]);\n        }\n      }\n\n      const middle = Math.floor((0 + end) / 2);\n      const ellipsised = props.direction === 'middle' ? checkMiddle([0, middle], [middle, end]) : check(0, end);\n      setEllipsised(ellipsised);\n    }\n\n    document.body.removeChild(container);\n  }\n\n  useResizeEffect(calcEllipsised, rootRef);\n  useIsomorphicLayoutEffect(() => {\n    calcEllipsised();\n  }, [props.content, props.direction, props.rows, props.expandText, props.collapseText]);\n  const expandActionElement = exceeded && props.expandText ? withStopPropagation(props.stopPropagationForActionButtons, React.createElement(\"a\", {\n    onClick: () => {\n      setExpanded(true);\n    }\n  }, props.expandText)) : null;\n  const collapseActionElement = exceeded && props.expandText ? withStopPropagation(props.stopPropagationForActionButtons, React.createElement(\"a\", {\n    onClick: () => {\n      setExpanded(false);\n    }\n  }, props.collapseText)) : null;\n\n  const renderContent = () => {\n    if (!exceeded) {\n      return props.content;\n    }\n\n    if (expanded) {\n      return React.createElement(React.Fragment, null, props.content, collapseActionElement);\n    } else {\n      return React.createElement(React.Fragment, null, ellipsised.leading, expandActionElement, ellipsised.tailing);\n    }\n  };\n\n  return withNativeProps(props, React.createElement(\"div\", {\n    ref: rootRef,\n    className: classPrefix,\n    onClick: e => {\n      if (e.target === e.currentTarget) {\n        props.onContentClick(e);\n      }\n    }\n  }, renderContent()));\n};\n\nfunction pxToNumber(value) {\n  if (!value) return 0;\n  const match = value.match(/^\\d*(\\.\\d*)?/);\n  return match ? Number(match[0]) : 0;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}