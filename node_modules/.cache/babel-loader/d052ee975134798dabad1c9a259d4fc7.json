{"ast":null,"code":"import _slicedToArray from\"/Users/stoneye/react_project/circle-app-react-hook/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from'./index.module.css';import cicle_logo from'../../../asserts/logo/circle_logo.png';import apple_logo from'../../../asserts/icon_png/apple.png';import google_logo from'../../../asserts/icon_png/google.png';import{LeftOutline}from'antd-mobile-icons';import React,{useEffect,useState}from'react';import{setUserName,getAllUserInfos,setAllUserInfos}from'../../Utils/global';import{Form,Input,Button,Toast}from'antd-mobile';import{useNavigate,useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(_ref){var loginCallback=_ref.loginCallback;var navigate=useNavigate();var location=useLocation();console.log(\"location: \",location);var _useState=useState({}),_useState2=_slicedToArray(_useState,2),allUserInfos=_useState2[0],setallUserInfos=_useState2[1];useEffect(function(){setallUserInfos(getAllUserInfos());},[]);var tipsCallbacl=function tipsCallbacl(){Toast.show({content:'this function is coming soon !'});};var summitCallback=function summitCallback(_ref2){var username=_ref2.username,password=_ref2.password;//ios keyboard show up will change the  viewport, so we need to reset the viewport\nwindow.scrollTo(0,0);var curUserInfos=allUserInfos[username];if(username.length<1||password.length<1){Toast.show({content:'username or password error!'});}if(curUserInfos){if(password==curUserInfos.password){Toast.show({content:'Login success !',duration:500,afterClose:function afterClose(){setUserName(username);navigate('/',{replace:true});}});}else{Toast.show({content:'password is error !'});}}else{Toast.show({content:'usename is no exits,please Sign up !'});}};return/*#__PURE__*/_jsx(\"div\",{className:styles.contanier,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.contanierContent,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.head_line,children:[/*#__PURE__*/_jsx(\"p\",{children:\"Welcome\"}),/*#__PURE__*/_jsx(\"img\",{src:cicle_logo})]}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){window.scrollTo(0,0);navigate('/home');},className:styles.back,children:/*#__PURE__*/_jsx(LeftOutline,{})}),/*#__PURE__*/_jsx(\"div\",{className:styles.form,children:/*#__PURE__*/_jsxs(Form,{onFinish:summitCallback,footer:/*#__PURE__*/_jsx(Button,{block:true,type:\"submit\",size:\"large\",children:\"Login\"}),children:[/*#__PURE__*/_jsx(Form.Item,{name:\"username\",label:\"username\",className:styles.username,rules:[{required:true,message:'username is required'}],children:/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"username\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"password\",label:\"password\",rules:[{required:true,message:'password is required'}],children:/*#__PURE__*/_jsx(Input,{type:\"password\",placeholder:\"password\",onBlur:function onBlur(){return window.scrollTo(0,0);}})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.third_login,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Don't have an account ? \"}),/*#__PURE__*/_jsx(\"span\",{className:styles.sign_up,onClick:function onClick(){return navigate('/register');},children:\"Sign up\"})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.bottom_line,children:\"OrWith\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.logo_login,onClick:tipsCallbacl,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:google_logo})}),/*#__PURE__*/_jsx(\"div\",{children:\"Sign in with Google\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.logo_login,onClick:tipsCallbacl,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:apple_logo})}),/*#__PURE__*/_jsx(\"div\",{children:\"Sign in with Apple\"})]})]})]})});}","map":{"version":3,"names":["styles","cicle_logo","apple_logo","google_logo","LeftOutline","React","useEffect","useState","setUserName","getAllUserInfos","setAllUserInfos","Form","Input","Button","Toast","useNavigate","useLocation","Register","loginCallback","navigate","location","console","log","allUserInfos","setallUserInfos","tipsCallbacl","show","content","summitCallback","username","password","window","scrollTo","curUserInfos","length","duration","afterClose","replace","contanier","contanierContent","head_line","back","form","required","message","third_login","sign_up","bottom_line","logo_login"],"sources":["/Users/stoneye/react_project/circle-app-react-hook/src/views/Component/Login/index.js"],"sourcesContent":["import styles from './index.module.css'\nimport cicle_logo from '../../../asserts/logo/circle_logo.png'\nimport apple_logo from '../../../asserts/icon_png/apple.png'\nimport google_logo from '../../../asserts/icon_png/google.png'\nimport { LeftOutline } from 'antd-mobile-icons'\nimport React, { useEffect, useState } from 'react'\nimport { setUserName, getAllUserInfos, setAllUserInfos } from '../../Utils/global'\nimport { Form, Input, Button, Toast } from 'antd-mobile'\nimport {\n  useNavigate, useLocation\n} from 'react-router-dom'\n\nexport default function Register ({ loginCallback }) {\n  const navigate = useNavigate()\n  const location = useLocation()\n  console.log(\"location: \", location)\n  const [allUserInfos, setallUserInfos] = useState({})\n  useEffect(() => {\n    setallUserInfos(getAllUserInfos())\n  }, [])\n\n\n\n  const tipsCallbacl = () => {\n    Toast.show({\n      content: 'this function is coming soon !'\n    })\n  }\n\n  const summitCallback = ({ username, password }) => {\n\n    //ios keyboard show up will change the  viewport, so we need to reset the viewport\n    window.scrollTo(0, 0)\n\n    let curUserInfos = allUserInfos[username]\n\n    if (username.length < 1 || password.length < 1) {\n      Toast.show({\n        content: 'username or password error!'\n      })\n    }\n\n\n\n    if (curUserInfos) {\n      if (password == curUserInfos.password) {\n        Toast.show({\n          content: 'Login success !',\n          duration: 500,\n          afterClose: () => {\n            setUserName(username)\n            navigate('/', { replace: true })\n          }\n        }\n        )\n\n\n      }\n      else {\n        Toast.show({\n          content: 'password is error !'\n        })\n      }\n    }\n\n    else {\n      Toast.show({\n        content: 'usename is no exits,please Sign up !'\n      })\n    }\n\n  }\n\n\n  return <div className={styles.contanier}>\n    <div className={styles.contanierContent}>\n      <div className={styles.head_line}>\n        <p>Welcome</p>\n        <img src={cicle_logo} />\n      </div>\n\n      <div onClick={() => {\n        window.scrollTo(0, 0)\n        navigate('/home')\n      }} className={styles.back}>\n        <LeftOutline />\n      </div>\n\n\n      <div className={styles.form} >\n\n        <Form\n          onFinish={summitCallback}\n          footer={\n            <Button block type='submit' size='large'>\n              Login\n            </Button>\n          }\n        >\n\n          <Form.Item\n            name='username'\n            label='username'\n            className={styles.username}\n            rules={[{ required: true, message: 'username is required' }]}\n          >\n            <Input type='text' placeholder='username' />\n          </Form.Item>\n\n          <Form.Item\n            name='password'\n            label='password'\n            rules={[{ required: true, message: 'password is required' }]}\n          >\n            <Input type='password' placeholder='password' onBlur={() => window.scrollTo(0, 0)} />\n          </Form.Item>\n\n        </Form>\n\n      </div>\n\n      <div className={styles.third_login}>\n        <div>\n          <span>Don't have an account ? </span>\n          <span className={styles.sign_up} onClick={() => navigate('/register')}>Sign up</span>\n        </div>\n        <div className={styles.bottom_line}>\n          OrWith\n        </div>\n        <div className={styles.logo_login} onClick={tipsCallbacl} >\n          <div><img src={google_logo} /></div>\n          <div>Sign in with Google</div>\n        </div>\n        <div className={styles.logo_login} onClick={tipsCallbacl}>\n          <div>\n            <img src={apple_logo} />\n          </div>\n          <div>Sign in with Apple</div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}