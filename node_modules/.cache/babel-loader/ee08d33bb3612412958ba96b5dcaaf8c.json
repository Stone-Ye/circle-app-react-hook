{"ast":null,"code":"import React, { forwardRef, useCallback, useImperativeHandle, useMemo, useRef } from 'react';\nimport classNames from 'classnames';\nimport { Popover } from './popover';\nvar classPrefix = \"adm-popover-menu\";\nexport var PopoverMenu = forwardRef(function (props, ref) {\n  var innerRef = useRef(null); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n  useImperativeHandle(ref, function () {\n    return innerRef.current;\n  }, []);\n\n  var _onClick = useCallback(function (e) {\n    var _a;\n\n    var onAction = props.onAction;\n\n    if (onAction) {\n      onAction(e);\n    }\n\n    (_a = innerRef.current) === null || _a === void 0 ? void 0 : _a.hide();\n  }, [props.onAction]);\n\n  var overlay = useMemo(function () {\n    return React.createElement(\"div\", {\n      className: \"\".concat(classPrefix, \"-list\")\n    }, React.createElement(\"div\", {\n      className: \"\".concat(classPrefix, \"-list-inner\")\n    }, props.actions.map(function (action, index) {\n      var _a;\n\n      return React.createElement(\"a\", {\n        key: (_a = action.key) !== null && _a !== void 0 ? _a : index,\n        className: classNames(\"\".concat(classPrefix, \"-item\"), 'adm-plain-anchor', action.disabled && \"\".concat(classPrefix, \"-item-disabled\")),\n        onClick: function onClick() {\n          var _a;\n\n          if (action.disabled) return;\n\n          _onClick(action);\n\n          (_a = action.onClick) === null || _a === void 0 ? void 0 : _a.call(action);\n        }\n      }, action.icon && React.createElement(\"div\", {\n        className: \"\".concat(classPrefix, \"-item-icon\")\n      }, action.icon), React.createElement(\"div\", {\n        className: \"\".concat(classPrefix, \"-item-text\")\n      }, action.text));\n    })));\n  }, [props.actions, _onClick]);\n  return React.createElement(Popover, Object.assign({\n    ref: innerRef\n  }, props, {\n    className: classNames(classPrefix, props.className),\n    content: overlay\n  }), props.children);\n});","map":{"version":3,"names":["React","forwardRef","useCallback","useImperativeHandle","useMemo","useRef","classNames","Popover","classPrefix","PopoverMenu","props","ref","innerRef","current","onClick","e","_a","onAction","hide","overlay","createElement","className","actions","map","action","index","key","disabled","call","icon","text","Object","assign","content","children"],"sources":["/Users/stoneye/react_project/circle-app-react-hook/node_modules/antd-mobile/es/components/popover/popover-menu.js"],"sourcesContent":["import React, { forwardRef, useCallback, useImperativeHandle, useMemo, useRef } from 'react';\nimport classNames from 'classnames';\nimport { Popover } from './popover';\nconst classPrefix = `adm-popover-menu`;\nexport const PopoverMenu = forwardRef((props, ref) => {\n  const innerRef = useRef(null); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n  useImperativeHandle(ref, () => innerRef.current, []);\n  const onClick = useCallback(e => {\n    var _a;\n\n    const {\n      onAction\n    } = props;\n\n    if (onAction) {\n      onAction(e);\n    }\n\n    (_a = innerRef.current) === null || _a === void 0 ? void 0 : _a.hide();\n  }, [props.onAction]);\n  const overlay = useMemo(() => {\n    return React.createElement(\"div\", {\n      className: `${classPrefix}-list`\n    }, React.createElement(\"div\", {\n      className: `${classPrefix}-list-inner`\n    }, props.actions.map((action, index) => {\n      var _a;\n\n      return React.createElement(\"a\", {\n        key: (_a = action.key) !== null && _a !== void 0 ? _a : index,\n        className: classNames(`${classPrefix}-item`, 'adm-plain-anchor', action.disabled && `${classPrefix}-item-disabled`),\n        onClick: () => {\n          var _a;\n\n          if (action.disabled) return;\n          onClick(action);\n          (_a = action.onClick) === null || _a === void 0 ? void 0 : _a.call(action);\n        }\n      }, action.icon && React.createElement(\"div\", {\n        className: `${classPrefix}-item-icon`\n      }, action.icon), React.createElement(\"div\", {\n        className: `${classPrefix}-item-text`\n      }, action.text));\n    })));\n  }, [props.actions, onClick]);\n  return React.createElement(Popover, Object.assign({\n    ref: innerRef\n  }, props, {\n    className: classNames(classPrefix, props.className),\n    content: overlay\n  }), props.children);\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}