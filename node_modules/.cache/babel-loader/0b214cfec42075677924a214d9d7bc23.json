{"ast":null,"code":"import _slicedToArray from \"/Users/stoneye/react_project/circle-app-react-hook/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React, { useEffect, useState } from 'react';\nimport { renderToBody } from '../../utils/render-to-body';\nimport { Picker } from './picker';\nexport function prompt(props) {\n  return new Promise(function (resolve) {\n    var Wrapper = function Wrapper() {\n      var _useState = useState(false),\n          _useState2 = _slicedToArray(_useState, 2),\n          visible = _useState2[0],\n          setVisible = _useState2[1];\n\n      useEffect(function () {\n        setVisible(true);\n      }, []);\n      return React.createElement(Picker, Object.assign({}, props, {\n        visible: visible,\n        onConfirm: function onConfirm(val, extend) {\n          var _a;\n\n          (_a = props.onConfirm) === null || _a === void 0 ? void 0 : _a.call(props, val, extend);\n          resolve(val);\n        },\n        onClose: function onClose() {\n          var _a;\n\n          (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);\n          setVisible(false);\n          resolve(null);\n        },\n        afterClose: function afterClose() {\n          var _a;\n\n          (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);\n          unmount();\n        }\n      }));\n    };\n\n    var unmount = renderToBody(React.createElement(Wrapper, null));\n  });\n}","map":{"version":3,"names":["React","useEffect","useState","renderToBody","Picker","prompt","props","Promise","resolve","Wrapper","visible","setVisible","createElement","Object","assign","onConfirm","val","extend","_a","call","onClose","afterClose","unmount"],"sources":["/Users/stoneye/react_project/circle-app-react-hook/node_modules/antd-mobile/es/components/picker/prompt.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { renderToBody } from '../../utils/render-to-body';\nimport { Picker } from './picker';\nexport function prompt(props) {\n  return new Promise(resolve => {\n    const Wrapper = () => {\n      const [visible, setVisible] = useState(false);\n      useEffect(() => {\n        setVisible(true);\n      }, []);\n      return React.createElement(Picker, Object.assign({}, props, {\n        visible: visible,\n        onConfirm: (val, extend) => {\n          var _a;\n\n          (_a = props.onConfirm) === null || _a === void 0 ? void 0 : _a.call(props, val, extend);\n          resolve(val);\n        },\n        onClose: () => {\n          var _a;\n\n          (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);\n          setVisible(false);\n          resolve(null);\n        },\n        afterClose: () => {\n          var _a;\n\n          (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);\n          unmount();\n        }\n      }));\n    };\n\n    const unmount = renderToBody(React.createElement(Wrapper, null));\n  });\n}"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,YAAT,QAA6B,4BAA7B;AACA,SAASC,MAAT,QAAuB,UAAvB;AACA,OAAO,SAASC,MAAT,CAAgBC,KAAhB,EAAuB;EAC5B,OAAO,IAAIC,OAAJ,CAAY,UAAAC,OAAO,EAAI;IAC5B,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;MACpB,gBAA8BP,QAAQ,CAAC,KAAD,CAAtC;MAAA;MAAA,IAAOQ,OAAP;MAAA,IAAgBC,UAAhB;;MACAV,SAAS,CAAC,YAAM;QACdU,UAAU,CAAC,IAAD,CAAV;MACD,CAFQ,EAEN,EAFM,CAAT;MAGA,OAAOX,KAAK,CAACY,aAAN,CAAoBR,MAApB,EAA4BS,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBR,KAAlB,EAAyB;QAC1DI,OAAO,EAAEA,OADiD;QAE1DK,SAAS,EAAE,mBAACC,GAAD,EAAMC,MAAN,EAAiB;UAC1B,IAAIC,EAAJ;;UAEA,CAACA,EAAE,GAAGZ,KAAK,CAACS,SAAZ,MAA2B,IAA3B,IAAmCG,EAAE,KAAK,KAAK,CAA/C,GAAmD,KAAK,CAAxD,GAA4DA,EAAE,CAACC,IAAH,CAAQb,KAAR,EAAeU,GAAf,EAAoBC,MAApB,CAA5D;UACAT,OAAO,CAACQ,GAAD,CAAP;QACD,CAPyD;QAQ1DI,OAAO,EAAE,mBAAM;UACb,IAAIF,EAAJ;;UAEA,CAACA,EAAE,GAAGZ,KAAK,CAACc,OAAZ,MAAyB,IAAzB,IAAiCF,EAAE,KAAK,KAAK,CAA7C,GAAiD,KAAK,CAAtD,GAA0DA,EAAE,CAACC,IAAH,CAAQb,KAAR,CAA1D;UACAK,UAAU,CAAC,KAAD,CAAV;UACAH,OAAO,CAAC,IAAD,CAAP;QACD,CAdyD;QAe1Da,UAAU,EAAE,sBAAM;UAChB,IAAIH,EAAJ;;UAEA,CAACA,EAAE,GAAGZ,KAAK,CAACe,UAAZ,MAA4B,IAA5B,IAAoCH,EAAE,KAAK,KAAK,CAAhD,GAAoD,KAAK,CAAzD,GAA6DA,EAAE,CAACC,IAAH,CAAQb,KAAR,CAA7D;UACAgB,OAAO;QACR;MApByD,CAAzB,CAA5B,CAAP;IAsBD,CA3BD;;IA6BA,IAAMA,OAAO,GAAGnB,YAAY,CAACH,KAAK,CAACY,aAAN,CAAoBH,OAApB,EAA6B,IAA7B,CAAD,CAA5B;EACD,CA/BM,CAAP;AAgCD"},"metadata":{},"sourceType":"module"}