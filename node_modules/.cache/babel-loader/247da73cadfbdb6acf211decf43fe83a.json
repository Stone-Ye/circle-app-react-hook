{"ast":null,"code":"import _slicedToArray from \"/Users/stoneye/react_project/circle-app-react-hook/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React, { memo, useRef } from 'react';\nimport { useSpring, animated } from '@react-spring/web';\nimport { useDrag, useWheel } from '@use-gesture/react';\nimport { rubberbandIfOutOfBounds } from '../../utils/rubberband';\nimport { bound } from '../../utils/bound';\nimport isEqual from 'lodash/isEqual';\nimport { useIsomorphicLayoutEffect } from 'ahooks';\nimport { measureCSSLength } from '../../utils/measure-css-length';\nimport { supportsPassive } from '../../utils/supports-passive';\nvar classPrefix = \"adm-picker-view\";\nexport var Wheel = memo(function (props) {\n  var value = props.value,\n      column = props.column,\n      renderLabel = props.renderLabel;\n\n  function onSelect(val) {\n    props.onSelect(val, props.index);\n  }\n\n  var _useSpring = useSpring(function () {\n    return {\n      from: {\n        y: 0\n      },\n      config: {\n        tension: 400,\n        mass: 0.8\n      }\n    };\n  }),\n      _useSpring2 = _slicedToArray(_useSpring, 2),\n      y = _useSpring2[0].y,\n      api = _useSpring2[1];\n\n  var draggingRef = useRef(false);\n  var rootRef = useRef(null);\n  var itemHeightMeasureRef = useRef(null);\n  var itemHeight = useRef(34);\n  useIsomorphicLayoutEffect(function () {\n    var itemHeightMeasure = itemHeightMeasureRef.current;\n    if (!itemHeightMeasure) return;\n    itemHeight.current = measureCSSLength(window.getComputedStyle(itemHeightMeasure).getPropertyValue('height'));\n  });\n  useIsomorphicLayoutEffect(function () {\n    if (draggingRef.current) return;\n    if (value === null) return;\n    var targetIndex = column.findIndex(function (item) {\n      return item.value === value;\n    });\n    if (targetIndex < 0) return;\n    var finalPosition = targetIndex * -itemHeight.current;\n    api.start({\n      y: finalPosition,\n      immediate: y.goal !== finalPosition\n    });\n  }, [value, column]);\n  useIsomorphicLayoutEffect(function () {\n    if (column.length === 0) {\n      if (value !== null) {\n        onSelect(null);\n      }\n    } else {\n      if (!column.some(function (item) {\n        return item.value === value;\n      })) {\n        var firstItem = column[0];\n        onSelect(firstItem.value);\n      }\n    }\n  }, [column, value]);\n\n  function scrollSelect(index) {\n    var finalPosition = index * -itemHeight.current;\n    api.start({\n      y: finalPosition\n    });\n    var item = column[index];\n    if (!item) return;\n    onSelect(item.value);\n  }\n\n  var handleDrag = function handleDrag(state) {\n    draggingRef.current = true;\n    var min = -((column.length - 1) * itemHeight.current);\n    var max = 0;\n\n    if (state.last) {\n      draggingRef.current = false;\n      var position = state.offset[1] + state.velocity[1] * state.direction[1] * 50;\n      var targetIndex = min < max ? -Math.round(bound(position, min, max) / itemHeight.current) : 0;\n      scrollSelect(targetIndex);\n    } else {\n      var _position = state.offset[1];\n      api.start({\n        y: rubberbandIfOutOfBounds(_position, min, max, itemHeight.current * 50, 0.2)\n      });\n    }\n  };\n\n  useDrag(function (state) {\n    state.event.stopPropagation();\n    handleDrag(state);\n  }, {\n    axis: 'y',\n    from: function from() {\n      return [0, y.get()];\n    },\n    filterTaps: true,\n    pointer: {\n      touch: true\n    },\n    target: rootRef\n  });\n  useWheel(function (state) {\n    state.event.stopPropagation();\n    handleDrag(state);\n  }, {\n    axis: 'y',\n    from: function from() {\n      return [0, y.get()];\n    },\n    preventDefault: true,\n    target: props.mouseWheel ? rootRef : undefined,\n    eventOptions: supportsPassive ? {\n      passive: false\n    } : false\n  });\n  var selectedIndex = null;\n\n  function renderAccessible() {\n    if (selectedIndex === null) {\n      return null;\n    }\n\n    var current = column[selectedIndex];\n    var previousIndex = selectedIndex - 1;\n    var nextIndex = selectedIndex + 1;\n    var previous = column[previousIndex];\n    var next = column[nextIndex];\n    return React.createElement(\"div\", {\n      className: 'adm-picker-view-column-accessible'\n    }, React.createElement(\"div\", {\n      className: 'adm-picker-view-column-accessible-current',\n      role: 'button',\n      \"aria-label\": current ? \"\\u5F53\\u524D\\u9009\\u62E9\\u7684\\u662F\\uFF1A\".concat(current.label) : '当前未选择'\n    }, \"-\"), React.createElement(\"div\", {\n      className: 'adm-picker-view-column-accessible-button',\n      onClick: function onClick() {\n        if (!previous) return;\n        scrollSelect(previousIndex);\n      },\n      role: previous ? 'button' : 'text',\n      \"aria-label\": !previous ? '没有上一项' : \"\\u9009\\u62E9\\u4E0A\\u4E00\\u9879\\uFF1A\".concat(previous.label)\n    }, \"-\"), React.createElement(\"div\", {\n      className: 'adm-picker-view-column-accessible-button',\n      onClick: function onClick() {\n        if (!next) return;\n        scrollSelect(nextIndex);\n      },\n      role: next ? 'button' : 'text',\n      \"aria-label\": !next ? '没有下一项' : \"\\u9009\\u62E9\\u4E0B\\u4E00\\u9879\\uFF1A\".concat(next.label)\n    }, \"-\"));\n  }\n\n  return React.createElement(\"div\", {\n    className: \"\".concat(classPrefix, \"-column\")\n  }, React.createElement(\"div\", {\n    className: \"\".concat(classPrefix, \"-item-height-measure\"),\n    ref: itemHeightMeasureRef\n  }), React.createElement(animated.div, {\n    ref: rootRef,\n    style: {\n      translateY: y\n    },\n    className: \"\".concat(classPrefix, \"-column-wheel\"),\n    \"aria-hidden\": true\n  }, column.map(function (item, index) {\n    var _a;\n\n    var selected = props.value === item.value;\n    if (selected) selectedIndex = index;\n\n    function handleClick() {\n      draggingRef.current = false;\n      scrollSelect(index);\n    }\n\n    return React.createElement(\"div\", {\n      key: (_a = item.key) !== null && _a !== void 0 ? _a : item.value,\n      \"data-selected\": item.value === value,\n      className: \"\".concat(classPrefix, \"-column-item\"),\n      onClick: handleClick,\n      \"aria-hidden\": !selected,\n      \"aria-label\": selected ? 'active' : ''\n    }, React.createElement(\"div\", {\n      className: \"\".concat(classPrefix, \"-column-item-label\")\n    }, renderLabel(item)));\n  })), renderAccessible());\n}, function (prev, next) {\n  if (prev.index !== next.index) return false;\n  if (prev.value !== next.value) return false;\n  if (prev.onSelect !== next.onSelect) return false;\n  if (prev.renderLabel !== next.renderLabel) return false;\n  if (prev.mouseWheel !== next.mouseWheel) return false;\n\n  if (!isEqual(prev.column, next.column)) {\n    return false;\n  }\n\n  return true;\n});\nWheel.displayName = 'Wheel';","map":{"version":3,"names":["React","memo","useRef","useSpring","animated","useDrag","useWheel","rubberbandIfOutOfBounds","bound","isEqual","useIsomorphicLayoutEffect","measureCSSLength","supportsPassive","classPrefix","Wheel","props","value","column","renderLabel","onSelect","val","index","from","y","config","tension","mass","api","draggingRef","rootRef","itemHeightMeasureRef","itemHeight","itemHeightMeasure","current","window","getComputedStyle","getPropertyValue","targetIndex","findIndex","item","finalPosition","start","immediate","goal","length","some","firstItem","scrollSelect","handleDrag","state","min","max","last","position","offset","velocity","direction","Math","round","event","stopPropagation","axis","get","filterTaps","pointer","touch","target","preventDefault","mouseWheel","undefined","eventOptions","passive","selectedIndex","renderAccessible","previousIndex","nextIndex","previous","next","createElement","className","role","label","onClick","ref","div","style","translateY","map","_a","selected","handleClick","key","prev","displayName"],"sources":["/Users/stoneye/react_project/circle-app-react-hook/node_modules/antd-mobile/es/components/picker-view/wheel.js"],"sourcesContent":["import React, { memo, useRef } from 'react';\nimport { useSpring, animated } from '@react-spring/web';\nimport { useDrag, useWheel } from '@use-gesture/react';\nimport { rubberbandIfOutOfBounds } from '../../utils/rubberband';\nimport { bound } from '../../utils/bound';\nimport isEqual from 'lodash/isEqual';\nimport { useIsomorphicLayoutEffect } from 'ahooks';\nimport { measureCSSLength } from '../../utils/measure-css-length';\nimport { supportsPassive } from '../../utils/supports-passive';\nconst classPrefix = `adm-picker-view`;\nexport const Wheel = memo(props => {\n  const {\n    value,\n    column,\n    renderLabel\n  } = props;\n\n  function onSelect(val) {\n    props.onSelect(val, props.index);\n  }\n\n  const [{\n    y\n  }, api] = useSpring(() => ({\n    from: {\n      y: 0\n    },\n    config: {\n      tension: 400,\n      mass: 0.8\n    }\n  }));\n  const draggingRef = useRef(false);\n  const rootRef = useRef(null);\n  const itemHeightMeasureRef = useRef(null);\n  const itemHeight = useRef(34);\n  useIsomorphicLayoutEffect(() => {\n    const itemHeightMeasure = itemHeightMeasureRef.current;\n    if (!itemHeightMeasure) return;\n    itemHeight.current = measureCSSLength(window.getComputedStyle(itemHeightMeasure).getPropertyValue('height'));\n  });\n  useIsomorphicLayoutEffect(() => {\n    if (draggingRef.current) return;\n    if (value === null) return;\n    const targetIndex = column.findIndex(item => item.value === value);\n    if (targetIndex < 0) return;\n    const finalPosition = targetIndex * -itemHeight.current;\n    api.start({\n      y: finalPosition,\n      immediate: y.goal !== finalPosition\n    });\n  }, [value, column]);\n  useIsomorphicLayoutEffect(() => {\n    if (column.length === 0) {\n      if (value !== null) {\n        onSelect(null);\n      }\n    } else {\n      if (!column.some(item => item.value === value)) {\n        const firstItem = column[0];\n        onSelect(firstItem.value);\n      }\n    }\n  }, [column, value]);\n\n  function scrollSelect(index) {\n    const finalPosition = index * -itemHeight.current;\n    api.start({\n      y: finalPosition\n    });\n    const item = column[index];\n    if (!item) return;\n    onSelect(item.value);\n  }\n\n  const handleDrag = state => {\n    draggingRef.current = true;\n    const min = -((column.length - 1) * itemHeight.current);\n    const max = 0;\n\n    if (state.last) {\n      draggingRef.current = false;\n      const position = state.offset[1] + state.velocity[1] * state.direction[1] * 50;\n      const targetIndex = min < max ? -Math.round(bound(position, min, max) / itemHeight.current) : 0;\n      scrollSelect(targetIndex);\n    } else {\n      const position = state.offset[1];\n      api.start({\n        y: rubberbandIfOutOfBounds(position, min, max, itemHeight.current * 50, 0.2)\n      });\n    }\n  };\n\n  useDrag(state => {\n    state.event.stopPropagation();\n    handleDrag(state);\n  }, {\n    axis: 'y',\n    from: () => [0, y.get()],\n    filterTaps: true,\n    pointer: {\n      touch: true\n    },\n    target: rootRef\n  });\n  useWheel(state => {\n    state.event.stopPropagation();\n    handleDrag(state);\n  }, {\n    axis: 'y',\n    from: () => [0, y.get()],\n    preventDefault: true,\n    target: props.mouseWheel ? rootRef : undefined,\n    eventOptions: supportsPassive ? {\n      passive: false\n    } : false\n  });\n  let selectedIndex = null;\n\n  function renderAccessible() {\n    if (selectedIndex === null) {\n      return null;\n    }\n\n    const current = column[selectedIndex];\n    const previousIndex = selectedIndex - 1;\n    const nextIndex = selectedIndex + 1;\n    const previous = column[previousIndex];\n    const next = column[nextIndex];\n    return React.createElement(\"div\", {\n      className: 'adm-picker-view-column-accessible'\n    }, React.createElement(\"div\", {\n      className: 'adm-picker-view-column-accessible-current',\n      role: 'button',\n      \"aria-label\": current ? `当前选择的是：${current.label}` : '当前未选择'\n    }, \"-\"), React.createElement(\"div\", {\n      className: 'adm-picker-view-column-accessible-button',\n      onClick: () => {\n        if (!previous) return;\n        scrollSelect(previousIndex);\n      },\n      role: previous ? 'button' : 'text',\n      \"aria-label\": !previous ? '没有上一项' : `选择上一项：${previous.label}`\n    }, \"-\"), React.createElement(\"div\", {\n      className: 'adm-picker-view-column-accessible-button',\n      onClick: () => {\n        if (!next) return;\n        scrollSelect(nextIndex);\n      },\n      role: next ? 'button' : 'text',\n      \"aria-label\": !next ? '没有下一项' : `选择下一项：${next.label}`\n    }, \"-\"));\n  }\n\n  return React.createElement(\"div\", {\n    className: `${classPrefix}-column`\n  }, React.createElement(\"div\", {\n    className: `${classPrefix}-item-height-measure`,\n    ref: itemHeightMeasureRef\n  }), React.createElement(animated.div, {\n    ref: rootRef,\n    style: {\n      translateY: y\n    },\n    className: `${classPrefix}-column-wheel`,\n    \"aria-hidden\": true\n  }, column.map((item, index) => {\n    var _a;\n\n    const selected = props.value === item.value;\n    if (selected) selectedIndex = index;\n\n    function handleClick() {\n      draggingRef.current = false;\n      scrollSelect(index);\n    }\n\n    return React.createElement(\"div\", {\n      key: (_a = item.key) !== null && _a !== void 0 ? _a : item.value,\n      \"data-selected\": item.value === value,\n      className: `${classPrefix}-column-item`,\n      onClick: handleClick,\n      \"aria-hidden\": !selected,\n      \"aria-label\": selected ? 'active' : ''\n    }, React.createElement(\"div\", {\n      className: `${classPrefix}-column-item-label`\n    }, renderLabel(item)));\n  })), renderAccessible());\n}, (prev, next) => {\n  if (prev.index !== next.index) return false;\n  if (prev.value !== next.value) return false;\n  if (prev.onSelect !== next.onSelect) return false;\n  if (prev.renderLabel !== next.renderLabel) return false;\n  if (prev.mouseWheel !== next.mouseWheel) return false;\n\n  if (!isEqual(prev.column, next.column)) {\n    return false;\n  }\n\n  return true;\n});\nWheel.displayName = 'Wheel';"],"mappings":"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"},"metadata":{},"sourceType":"module"}