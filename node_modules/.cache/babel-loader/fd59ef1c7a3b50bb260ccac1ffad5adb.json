{"ast":null,"code":"import _slicedToArray from\"/Users/stoneye/react_project/circle-app-react-hook/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useNavigate,useLocation}from'react-router-dom';import styles from'./index.module.css';import{getUserName,getAllUserInfos,getProductsData}from'../Utils/global';import HeadNav from'../Component/HeadNav';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function WishList(){var navigate=useNavigate();var _useLocation=useLocation(),state=_useLocation.state;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),wishlist=_useState2[0],setWishList=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),productsData=_useState4[0],setProductsData=_useState4[1];useEffect(function(){var username=getUserName();var allUserInfos=getAllUserInfos();setWishList(allUserInfos[username]['wishList']);setProductsData(getProductsData());},[state]);var WishListContent=function WishListContent(){return/*#__PURE__*/_jsxs(\"div\",{className:styles.wishlistContent,children:[wishlist.map(function(productID){var _productsData$product=productsData[productID],category=_productsData$product.category,imgs=_productsData$product.imgs,title=_productsData$product.title,price=_productsData$product.price,desc=_productsData$product.desc,seller=_productsData$product.seller;return/*#__PURE__*/_jsxs(\"div\",{className:styles.wishlistItem,children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Seller: \",seller]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.wishlistItemInfos,onClick:function onClick(){navigate('/productDetails',{replace:true,state:{'productInfos':productsData[productID]}});},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:imgs[0]})}),/*#__PURE__*/_jsx(\"div\",{children:title})]}),/*#__PURE__*/_jsx(\"div\",{children:price})]})]},category+productID);}),/*#__PURE__*/_jsxs(\"div\",{className:styles.totalItems,children:[\"Total Items: \",wishlist.length]})]});};return/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsx(HeadNav,{title:\"WishListDetails\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.body,children:wishlist.length>0?/*#__PURE__*/_jsx(WishListContent,{}):''})]});}","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useLocation","styles","getUserName","getAllUserInfos","getProductsData","HeadNav","WishList","navigate","state","wishlist","setWishList","productsData","setProductsData","username","allUserInfos","WishListContent","wishlistContent","map","productID","category","imgs","title","price","desc","seller","wishlistItem","wishlistItemInfos","replace","totalItems","length","container","body"],"sources":["/Users/stoneye/react_project/circle-app-react-hook/src/views/WishList/index.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport {\n  useNavigate, useLocation\n} from 'react-router-dom'\nimport styles from './index.module.css'\nimport { getUserName, getAllUserInfos, getProductsData } from '../Utils/global'\nimport HeadNav from '../Component/HeadNav'\nexport default function WishList () {\n\n  const navigate = useNavigate()\n  const { state } = useLocation()\n  const [wishlist, setWishList] = useState([])\n  const [productsData, setProductsData] = useState([])\n  useEffect(() => {\n    let username = getUserName()\n    let allUserInfos = getAllUserInfos()\n    setWishList(allUserInfos[username]['wishList'])\n    setProductsData(getProductsData())\n  }, [state])\n\n\n  const WishListContent = () => {\n    return <div className={styles.wishlistContent}>\n      {wishlist.map((productID) => {\n        let { category, imgs, title, price, desc, seller } = productsData[productID]\n        return <div className={styles.wishlistItem} key={category + productID}>\n          <div>Seller: {seller}</div>\n          <div className={styles.wishlistItemInfos} onClick={() => { navigate('/productDetails', { replace: true, state: { 'productInfos': productsData[productID] } }) }}>\n            <div>\n              <div><img src={imgs[0]} /></div>\n              <div>{title}</div>\n            </div>\n            <div>{price}</div>\n          </div>\n        </div>\n      })}\n      <div className={styles.totalItems}>Total Items: {wishlist.length}</div>\n    </div>\n\n\n  }\n\n\n  return <div className={styles.container}>\n    <HeadNav title='WishListDetails' />\n    <div className={styles.body}>\n      {wishlist.length > 0 ? <WishListContent /> : ''}\n    </div>\n  </div>\n\n}"],"mappings":"wIAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OACEC,WADF,CACeC,WADf,KAEO,kBAFP,CAGA,MAAOC,OAAP,KAAmB,oBAAnB,CACA,OAASC,WAAT,CAAsBC,eAAtB,CAAuCC,eAAvC,KAA8D,iBAA9D,CACA,MAAOC,QAAP,KAAoB,sBAApB,C,wFACA,cAAe,SAASC,SAAT,EAAqB,CAElC,GAAMC,SAAQ,CAAGR,WAAW,EAA5B,CACA,iBAAkBC,WAAW,EAA7B,CAAQQ,KAAR,cAAQA,KAAR,CACA,cAAgCV,QAAQ,CAAC,EAAD,CAAxC,wCAAOW,QAAP,eAAiBC,WAAjB,eACA,eAAwCZ,QAAQ,CAAC,EAAD,CAAhD,yCAAOa,YAAP,eAAqBC,eAArB,eACAf,SAAS,CAAC,UAAM,CACd,GAAIgB,SAAQ,CAAGX,WAAW,EAA1B,CACA,GAAIY,aAAY,CAAGX,eAAe,EAAlC,CACAO,WAAW,CAACI,YAAY,CAACD,QAAD,CAAZ,CAAuB,UAAvB,CAAD,CAAX,CACAD,eAAe,CAACR,eAAe,EAAhB,CAAf,CACD,CALQ,CAKN,CAACI,KAAD,CALM,CAAT,CAQA,GAAMO,gBAAe,CAAG,QAAlBA,gBAAkB,EAAM,CAC5B,mBAAO,aAAK,SAAS,CAAEd,MAAM,CAACe,eAAvB,WACJP,QAAQ,CAACQ,GAAT,CAAa,SAACC,SAAD,CAAe,CAC3B,0BAAqDP,YAAY,CAACO,SAAD,CAAjE,CAAMC,QAAN,uBAAMA,QAAN,CAAgBC,IAAhB,uBAAgBA,IAAhB,CAAsBC,KAAtB,uBAAsBA,KAAtB,CAA6BC,KAA7B,uBAA6BA,KAA7B,CAAoCC,IAApC,uBAAoCA,IAApC,CAA0CC,MAA1C,uBAA0CA,MAA1C,CACA,mBAAO,aAAK,SAAS,CAAEvB,MAAM,CAACwB,YAAvB,wBACL,kCAAcD,MAAd,GADK,cAEL,aAAK,SAAS,CAAEvB,MAAM,CAACyB,iBAAvB,CAA0C,OAAO,CAAE,kBAAM,CAAEnB,QAAQ,CAAC,iBAAD,CAAoB,CAAEoB,OAAO,CAAE,IAAX,CAAiBnB,KAAK,CAAE,CAAE,eAAgBG,YAAY,CAACO,SAAD,CAA9B,CAAxB,CAApB,CAAR,CAAoG,CAA/J,wBACE,oCACE,kCAAK,YAAK,GAAG,CAAEE,IAAI,CAAC,CAAD,CAAd,EAAL,EADF,cAEE,qBAAMC,KAAN,EAFF,GADF,cAKE,qBAAMC,KAAN,EALF,GAFK,GAA0CH,QAAQ,CAAGD,SAArD,CAAP,CAUD,CAZA,CADI,cAcL,aAAK,SAAS,CAAEjB,MAAM,CAAC2B,UAAvB,2BAAiDnB,QAAQ,CAACoB,MAA1D,GAdK,GAAP,CAkBD,CAnBD,CAsBA,mBAAO,aAAK,SAAS,CAAE5B,MAAM,CAAC6B,SAAvB,wBACL,KAAC,OAAD,EAAS,KAAK,CAAC,iBAAf,EADK,cAEL,YAAK,SAAS,CAAE7B,MAAM,CAAC8B,IAAvB,UACGtB,QAAQ,CAACoB,MAAT,CAAkB,CAAlB,cAAsB,KAAC,eAAD,IAAtB,CAA4C,EAD/C,EAFK,GAAP,CAOD"},"metadata":{},"sourceType":"module"}