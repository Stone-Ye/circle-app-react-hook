{"ast":null,"code":"import _defineProperty from \"/Users/stoneye/react_project/circle-app-react-hook/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Users/stoneye/react_project/circle-app-react-hook/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React, { useState } from 'react';\nimport classNames from 'classnames';\nvar classPrefix = \"adm-index-bar\";\nexport var Sidebar = function Sidebar(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      interacting = _useState2[0],\n      setInteracting = _useState2[1];\n\n  return React.createElement(\"div\", {\n    className: classNames(\"\".concat(classPrefix, \"-sidebar\"), _defineProperty({}, \"\".concat(classPrefix, \"-sidebar-interacting\"), interacting)),\n    onMouseDown: function onMouseDown() {\n      setInteracting(true);\n    },\n    onMouseUp: function onMouseUp() {\n      setInteracting(false);\n    },\n    onTouchStart: function onTouchStart() {\n      setInteracting(true);\n    },\n    onTouchEnd: function onTouchEnd() {\n      setInteracting(false);\n    },\n    onTouchMove: function onTouchMove(e) {\n      if (!interacting) return;\n      var _e$touches$ = e.touches[0],\n          clientX = _e$touches$.clientX,\n          clientY = _e$touches$.clientY;\n      var target = document.elementFromPoint(clientX, clientY);\n      if (!target) return;\n      var index = target.dataset['index'];\n\n      if (index) {\n        props.onActive(index);\n      }\n    }\n  }, props.indexItems.map(function (_ref) {\n    var index = _ref.index,\n        brief = _ref.brief;\n    var active = index === props.activeIndex;\n    return React.createElement(\"div\", {\n      className: \"\".concat(classPrefix, \"-sidebar-row\"),\n      onMouseDown: function onMouseDown() {\n        props.onActive(index);\n      },\n      onTouchStart: function onTouchStart() {\n        props.onActive(index);\n      },\n      onMouseEnter: function onMouseEnter() {\n        if (interacting) {\n          props.onActive(index);\n        }\n      },\n      \"data-index\": index,\n      key: index\n    }, interacting && active && React.createElement(\"div\", {\n      className: \"\".concat(classPrefix, \"-sidebar-bubble\")\n    }, brief), React.createElement(\"div\", {\n      className: classNames(\"\".concat(classPrefix, \"-sidebar-item\"), _defineProperty({}, \"\".concat(classPrefix, \"-sidebar-item-active\"), active)),\n      \"data-index\": index\n    }, React.createElement(\"div\", null, brief)));\n  }));\n};","map":{"version":3,"names":["React","useState","classNames","classPrefix","Sidebar","props","interacting","setInteracting","createElement","className","onMouseDown","onMouseUp","onTouchStart","onTouchEnd","onTouchMove","e","touches","clientX","clientY","target","document","elementFromPoint","index","dataset","onActive","indexItems","map","brief","active","activeIndex","onMouseEnter","key"],"sources":["/Users/stoneye/react_project/circle-app-react-hook/node_modules/antd-mobile/es/components/index-bar/sidebar.js"],"sourcesContent":["import React, { useState } from 'react';\nimport classNames from 'classnames';\nconst classPrefix = `adm-index-bar`;\nexport const Sidebar = props => {\n  const [interacting, setInteracting] = useState(false);\n  return React.createElement(\"div\", {\n    className: classNames(`${classPrefix}-sidebar`, {\n      [`${classPrefix}-sidebar-interacting`]: interacting\n    }),\n    onMouseDown: () => {\n      setInteracting(true);\n    },\n    onMouseUp: () => {\n      setInteracting(false);\n    },\n    onTouchStart: () => {\n      setInteracting(true);\n    },\n    onTouchEnd: () => {\n      setInteracting(false);\n    },\n    onTouchMove: e => {\n      if (!interacting) return;\n      const {\n        clientX,\n        clientY\n      } = e.touches[0];\n      const target = document.elementFromPoint(clientX, clientY);\n      if (!target) return;\n      const index = target.dataset['index'];\n\n      if (index) {\n        props.onActive(index);\n      }\n    }\n  }, props.indexItems.map(({\n    index,\n    brief\n  }) => {\n    const active = index === props.activeIndex;\n    return React.createElement(\"div\", {\n      className: `${classPrefix}-sidebar-row`,\n      onMouseDown: () => {\n        props.onActive(index);\n      },\n      onTouchStart: () => {\n        props.onActive(index);\n      },\n      onMouseEnter: () => {\n        if (interacting) {\n          props.onActive(index);\n        }\n      },\n      \"data-index\": index,\n      key: index\n    }, interacting && active && React.createElement(\"div\", {\n      className: `${classPrefix}-sidebar-bubble`\n    }, brief), React.createElement(\"div\", {\n      className: classNames(`${classPrefix}-sidebar-item`, {\n        [`${classPrefix}-sidebar-item-active`]: active\n      }),\n      \"data-index\": index\n    }, React.createElement(\"div\", null, brief)));\n  }));\n};"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,IAAMC,WAAW,kBAAjB;AACA,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAAAC,KAAK,EAAI;EAC9B,gBAAsCJ,QAAQ,CAAC,KAAD,CAA9C;EAAA;EAAA,IAAOK,WAAP;EAAA,IAAoBC,cAApB;;EACA,OAAOP,KAAK,CAACQ,aAAN,CAAoB,KAApB,EAA2B;IAChCC,SAAS,EAAEP,UAAU,WAAIC,WAAJ,6CACfA,WADe,2BACqBG,WADrB,EADW;IAIhCI,WAAW,EAAE,uBAAM;MACjBH,cAAc,CAAC,IAAD,CAAd;IACD,CAN+B;IAOhCI,SAAS,EAAE,qBAAM;MACfJ,cAAc,CAAC,KAAD,CAAd;IACD,CAT+B;IAUhCK,YAAY,EAAE,wBAAM;MAClBL,cAAc,CAAC,IAAD,CAAd;IACD,CAZ+B;IAahCM,UAAU,EAAE,sBAAM;MAChBN,cAAc,CAAC,KAAD,CAAd;IACD,CAf+B;IAgBhCO,WAAW,EAAE,qBAAAC,CAAC,EAAI;MAChB,IAAI,CAACT,WAAL,EAAkB;MAClB,kBAGIS,CAAC,CAACC,OAAF,CAAU,CAAV,CAHJ;MAAA,IACEC,OADF,eACEA,OADF;MAAA,IAEEC,OAFF,eAEEA,OAFF;MAIA,IAAMC,MAAM,GAAGC,QAAQ,CAACC,gBAAT,CAA0BJ,OAA1B,EAAmCC,OAAnC,CAAf;MACA,IAAI,CAACC,MAAL,EAAa;MACb,IAAMG,KAAK,GAAGH,MAAM,CAACI,OAAP,CAAe,OAAf,CAAd;;MAEA,IAAID,KAAJ,EAAW;QACTjB,KAAK,CAACmB,QAAN,CAAeF,KAAf;MACD;IACF;EA7B+B,CAA3B,EA8BJjB,KAAK,CAACoB,UAAN,CAAiBC,GAAjB,CAAqB,gBAGlB;IAAA,IAFJJ,KAEI,QAFJA,KAEI;IAAA,IADJK,KACI,QADJA,KACI;IACJ,IAAMC,MAAM,GAAGN,KAAK,KAAKjB,KAAK,CAACwB,WAA/B;IACA,OAAO7B,KAAK,CAACQ,aAAN,CAAoB,KAApB,EAA2B;MAChCC,SAAS,YAAKN,WAAL,iBADuB;MAEhCO,WAAW,EAAE,uBAAM;QACjBL,KAAK,CAACmB,QAAN,CAAeF,KAAf;MACD,CAJ+B;MAKhCV,YAAY,EAAE,wBAAM;QAClBP,KAAK,CAACmB,QAAN,CAAeF,KAAf;MACD,CAP+B;MAQhCQ,YAAY,EAAE,wBAAM;QAClB,IAAIxB,WAAJ,EAAiB;UACfD,KAAK,CAACmB,QAAN,CAAeF,KAAf;QACD;MACF,CAZ+B;MAahC,cAAcA,KAbkB;MAchCS,GAAG,EAAET;IAd2B,CAA3B,EAeJhB,WAAW,IAAIsB,MAAf,IAAyB5B,KAAK,CAACQ,aAAN,CAAoB,KAApB,EAA2B;MACrDC,SAAS,YAAKN,WAAL;IAD4C,CAA3B,EAEzBwB,KAFyB,CAfrB,EAiBI3B,KAAK,CAACQ,aAAN,CAAoB,KAApB,EAA2B;MACpCC,SAAS,EAAEP,UAAU,WAAIC,WAAJ,kDACfA,WADe,2BACqByB,MADrB,EADe;MAIpC,cAAcN;IAJsB,CAA3B,EAKRtB,KAAK,CAACQ,aAAN,CAAoB,KAApB,EAA2B,IAA3B,EAAiCmB,KAAjC,CALQ,CAjBJ,CAAP;EAuBD,CA5BE,CA9BI,CAAP;AA2DD,CA7DM"},"metadata":{},"sourceType":"module"}