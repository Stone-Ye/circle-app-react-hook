{"ast":null,"code":"import _defineProperty from \"/Users/stoneye/react_project/circle-app-react-hook/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Users/stoneye/react_project/circle-app-react-hook/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React, { useContext } from 'react';\nimport { withNativeProps } from '../../utils/native-props';\nimport classNames from 'classnames';\nimport { RadioGroupContext } from './group-context';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { CheckIcon } from '../checkbox/check-icon';\nimport { devWarning } from '../../utils/dev-log';\nimport { isDev } from '../../utils/is-dev';\nimport { NativeInput } from '../checkbox/native-input';\nvar classPrefix = \"adm-radio\";\nvar defaultProps = {\n  defaultChecked: false\n};\nexport var Radio = function Radio(p) {\n  var _classNames;\n\n  var props = mergeProps(defaultProps, p);\n  var groupContext = useContext(RadioGroupContext);\n\n  var _usePropsValue = usePropsValue({\n    value: props.checked,\n    defaultValue: props.defaultChecked,\n    onChange: props.onChange\n  }),\n      _usePropsValue2 = _slicedToArray(_usePropsValue, 2),\n      checked = _usePropsValue2[0],\n      setChecked = _usePropsValue2[1];\n\n  var disabled = props.disabled;\n  var value = props.value;\n\n  if (groupContext && value !== undefined) {\n    if (isDev) {\n      if (p.checked !== undefined) {\n        devWarning('Radio', 'When used within `Radio.Group`, the `checked` prop of `Radio` will not work.');\n      }\n\n      if (p.defaultChecked !== undefined) {\n        devWarning('Radio', 'When used within `Radio.Group`, the `defaultChecked` prop of `Radio` will not work.');\n      }\n    }\n\n    checked = groupContext.value.includes(value);\n\n    setChecked = function setChecked(innerChecked) {\n      var _a;\n\n      if (innerChecked) {\n        groupContext.check(value);\n      } else {\n        groupContext.uncheck(value);\n      }\n\n      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, innerChecked);\n    };\n\n    disabled = disabled || groupContext.disabled;\n  }\n\n  var renderIcon = function renderIcon() {\n    if (props.icon) {\n      return React.createElement(\"div\", {\n        className: \"\".concat(classPrefix, \"-custom-icon\")\n      }, props.icon(checked));\n    }\n\n    return React.createElement(\"div\", {\n      className: \"\".concat(classPrefix, \"-icon\")\n    }, checked && React.createElement(CheckIcon, null));\n  };\n\n  return withNativeProps(props, React.createElement(\"label\", {\n    className: classNames(classPrefix, (_classNames = {}, _defineProperty(_classNames, \"\".concat(classPrefix, \"-checked\"), checked), _defineProperty(_classNames, \"\".concat(classPrefix, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(classPrefix, \"-block\"), props.block), _classNames))\n  }, React.createElement(NativeInput, {\n    type: 'radio',\n    checked: checked,\n    onChange: setChecked,\n    disabled: disabled,\n    id: props.id\n  }), renderIcon(), props.children && React.createElement(\"div\", {\n    className: \"\".concat(classPrefix, \"-content\")\n  }, props.children)));\n};","map":{"version":3,"names":["React","useContext","withNativeProps","classNames","RadioGroupContext","usePropsValue","mergeProps","CheckIcon","devWarning","isDev","NativeInput","classPrefix","defaultProps","defaultChecked","Radio","p","props","groupContext","value","checked","defaultValue","onChange","setChecked","disabled","undefined","includes","innerChecked","_a","check","uncheck","call","renderIcon","icon","createElement","className","block","type","id","children"],"sources":["/Users/stoneye/react_project/circle-app-react-hook/node_modules/antd-mobile/es/components/radio/radio.js"],"sourcesContent":["import React, { useContext } from 'react';\nimport { withNativeProps } from '../../utils/native-props';\nimport classNames from 'classnames';\nimport { RadioGroupContext } from './group-context';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { CheckIcon } from '../checkbox/check-icon';\nimport { devWarning } from '../../utils/dev-log';\nimport { isDev } from '../../utils/is-dev';\nimport { NativeInput } from '../checkbox/native-input';\nconst classPrefix = `adm-radio`;\nconst defaultProps = {\n  defaultChecked: false\n};\nexport const Radio = p => {\n  const props = mergeProps(defaultProps, p);\n  const groupContext = useContext(RadioGroupContext);\n  let [checked, setChecked] = usePropsValue({\n    value: props.checked,\n    defaultValue: props.defaultChecked,\n    onChange: props.onChange\n  });\n  let disabled = props.disabled;\n  const {\n    value\n  } = props;\n\n  if (groupContext && value !== undefined) {\n    if (isDev) {\n      if (p.checked !== undefined) {\n        devWarning('Radio', 'When used within `Radio.Group`, the `checked` prop of `Radio` will not work.');\n      }\n\n      if (p.defaultChecked !== undefined) {\n        devWarning('Radio', 'When used within `Radio.Group`, the `defaultChecked` prop of `Radio` will not work.');\n      }\n    }\n\n    checked = groupContext.value.includes(value);\n\n    setChecked = innerChecked => {\n      var _a;\n\n      if (innerChecked) {\n        groupContext.check(value);\n      } else {\n        groupContext.uncheck(value);\n      }\n\n      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, innerChecked);\n    };\n\n    disabled = disabled || groupContext.disabled;\n  }\n\n  const renderIcon = () => {\n    if (props.icon) {\n      return React.createElement(\"div\", {\n        className: `${classPrefix}-custom-icon`\n      }, props.icon(checked));\n    }\n\n    return React.createElement(\"div\", {\n      className: `${classPrefix}-icon`\n    }, checked && React.createElement(CheckIcon, null));\n  };\n\n  return withNativeProps(props, React.createElement(\"label\", {\n    className: classNames(classPrefix, {\n      [`${classPrefix}-checked`]: checked,\n      [`${classPrefix}-disabled`]: disabled,\n      [`${classPrefix}-block`]: props.block\n    })\n  }, React.createElement(NativeInput, {\n    type: 'radio',\n    checked: checked,\n    onChange: setChecked,\n    disabled: disabled,\n    id: props.id\n  }), renderIcon(), props.children && React.createElement(\"div\", {\n    className: `${classPrefix}-content`\n  }, props.children)));\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}