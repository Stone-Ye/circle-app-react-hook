{"ast":null,"code":"import _defineProperty from \"/Users/stoneye/react_project/circle-app-react-hook/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _toConsumableArray from \"/Users/stoneye/react_project/circle-app-react-hook/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/stoneye/react_project/circle-app-react-hook/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React, { useMemo, useRef } from 'react';\nimport { withNativeProps } from '../../utils/native-props';\nimport classNames from 'classnames';\nimport Ticks from './ticks';\nimport Marks from './marks';\nimport Thumb from './thumb';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { nearest } from '../../utils/nearest';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { devWarning } from '../../utils/dev-log';\nvar classPrefix = \"adm-slider\";\nvar defaultProps = {\n  min: 0,\n  max: 100,\n  step: 1,\n  ticks: false,\n  range: false,\n  disabled: false,\n  popover: false,\n  residentPopover: false\n};\nexport var Slider = function Slider(p) {\n  var _a;\n\n  var props = mergeProps(defaultProps, p);\n  var min = props.min,\n      max = props.max,\n      disabled = props.disabled,\n      marks = props.marks,\n      ticks = props.ticks,\n      step = props.step,\n      icon = props.icon;\n\n  function sortValue(val) {\n    return val.sort(function (a, b) {\n      return a - b;\n    });\n  }\n\n  function convertValue(value) {\n    return props.range ? value : [props.min, value];\n  }\n\n  function reverseValue(value) {\n    return props.range ? value : value[1];\n  }\n\n  function onAfterChange(value) {\n    var _a;\n\n    (_a = props.onAfterChange) === null || _a === void 0 ? void 0 : _a.call(props, reverseValue(value));\n  }\n\n  var propsValue = props.value;\n\n  if (props.range && typeof props.value === 'number') {\n    devWarning('Slider', 'When `range` prop is enabled, the `value` prop should be an array, like: [0, 0]');\n    propsValue = [0, props.value];\n  }\n\n  var _usePropsValue = usePropsValue({\n    value: propsValue,\n    defaultValue: (_a = props.defaultValue) !== null && _a !== void 0 ? _a : props.range ? [min, min] : min,\n    onChange: props.onChange\n  }),\n      _usePropsValue2 = _slicedToArray(_usePropsValue, 2),\n      rawValue = _usePropsValue2[0],\n      setRawValue = _usePropsValue2[1];\n\n  var sliderValue = sortValue(convertValue(rawValue));\n\n  function setSliderValue(value) {\n    var next = sortValue(value);\n    var current = sliderValue;\n    if (next[0] === current[0] && next[1] === current[1]) return;\n    setRawValue(reverseValue(next));\n  }\n\n  var trackRef = useRef(null);\n  var fillSize = \"\".concat(100 * (sliderValue[1] - sliderValue[0]) / (max - min), \"%\");\n  var fillStart = \"\".concat(100 * (sliderValue[0] - min) / (max - min), \"%\"); // 计算要显示的点\n\n  var pointList = useMemo(function () {\n    if (marks) {\n      return Object.keys(marks).map(parseFloat).sort(function (a, b) {\n        return a - b;\n      });\n    } else {\n      var points = [];\n\n      for (var i = min; i <= max; i += step) {\n        points.push(i);\n      }\n\n      return points;\n    }\n  }, [marks, ticks, step, min, max]);\n\n  function getValueByPosition(position) {\n    var newPosition = position < min ? min : position > max ? max : position;\n    var value = min; // 显示了刻度点，就只能移动到点上\n\n    if (pointList.length) {\n      value = nearest(pointList, newPosition);\n    } else {\n      var lengthPerStep = 100 / ((max - min) / step);\n      var steps = Math.round(newPosition / lengthPerStep);\n      value = steps * lengthPerStep * (max - min) * 0.01 + min;\n    }\n\n    return value;\n  }\n\n  var dragLockRef = useRef(0);\n\n  var onTrackClick = function onTrackClick(event) {\n    if (dragLockRef.current > 0) return;\n    event.stopPropagation();\n    if (disabled) return;\n    var track = trackRef.current;\n    if (!track) return;\n    var sliderOffsetLeft = track.getBoundingClientRect().left;\n    var position = (event.clientX - sliderOffsetLeft) / Math.ceil(track.offsetWidth) * (max - min) + min;\n    var targetValue = getValueByPosition(position);\n    var nextSliderValue;\n\n    if (props.range) {\n      // 移动的滑块采用就近原则\n      if (Math.abs(targetValue - sliderValue[0]) > Math.abs(targetValue - sliderValue[1])) {\n        nextSliderValue = [sliderValue[0], targetValue];\n      } else {\n        nextSliderValue = [targetValue, sliderValue[1]];\n      }\n    } else {\n      nextSliderValue = [props.min, targetValue];\n    }\n\n    setSliderValue(nextSliderValue);\n    onAfterChange(nextSliderValue);\n  };\n\n  var valueBeforeDragRef = useRef();\n\n  var renderThumb = function renderThumb(index) {\n    return React.createElement(Thumb, {\n      key: index,\n      value: sliderValue[index],\n      min: min,\n      max: max,\n      disabled: disabled,\n      trackRef: trackRef,\n      icon: icon,\n      popover: props.popover,\n      residentPopover: props.residentPopover,\n      onDrag: function onDrag(position, first, last) {\n        if (first) {\n          dragLockRef.current += 1;\n          valueBeforeDragRef.current = sliderValue;\n        }\n\n        var val = getValueByPosition(position);\n        var valueBeforeDrag = valueBeforeDragRef.current;\n        if (!valueBeforeDrag) return;\n\n        var next = _toConsumableArray(valueBeforeDrag);\n\n        next[index] = val;\n        setSliderValue(next);\n\n        if (last) {\n          onAfterChange(next);\n          window.setTimeout(function () {\n            dragLockRef.current -= 1;\n          }, 100);\n        }\n      },\n      \"aria-label\": props['aria-label']\n    });\n  };\n\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classNames(classPrefix, _defineProperty({}, \"\".concat(classPrefix, \"-disabled\"), disabled))\n  }, React.createElement(\"div\", {\n    className: \"\".concat(classPrefix, \"-track-container\"),\n    onClick: onTrackClick\n  }, React.createElement(\"div\", {\n    className: \"\".concat(classPrefix, \"-track\"),\n    onClick: onTrackClick,\n    ref: trackRef\n  }, React.createElement(\"div\", {\n    className: \"\".concat(classPrefix, \"-fill\"),\n    style: {\n      width: fillSize,\n      left: fillStart\n    }\n  }), props.ticks && React.createElement(Ticks, {\n    points: pointList,\n    min: min,\n    max: max,\n    lowerBound: sliderValue[0],\n    upperBound: sliderValue[1]\n  }), props.range && renderThumb(0), renderThumb(1))), marks && React.createElement(Marks, {\n    min: min,\n    max: max,\n    marks: marks,\n    lowerBound: sliderValue[0],\n    upperBound: sliderValue[1]\n  })));\n};","map":{"version":3,"names":["React","useMemo","useRef","withNativeProps","classNames","Ticks","Marks","Thumb","mergeProps","nearest","usePropsValue","devWarning","classPrefix","defaultProps","min","max","step","ticks","range","disabled","popover","residentPopover","Slider","p","_a","props","marks","icon","sortValue","val","sort","a","b","convertValue","value","reverseValue","onAfterChange","call","propsValue","defaultValue","onChange","rawValue","setRawValue","sliderValue","setSliderValue","next","current","trackRef","fillSize","fillStart","pointList","Object","keys","map","parseFloat","points","i","push","getValueByPosition","position","newPosition","length","lengthPerStep","steps","Math","round","dragLockRef","onTrackClick","event","stopPropagation","track","sliderOffsetLeft","getBoundingClientRect","left","clientX","ceil","offsetWidth","targetValue","nextSliderValue","abs","valueBeforeDragRef","renderThumb","index","createElement","key","onDrag","first","last","valueBeforeDrag","window","setTimeout","className","onClick","ref","style","width","lowerBound","upperBound"],"sources":["/Users/stoneye/react_project/circle-app-react-hook/node_modules/antd-mobile/es/components/slider/slider.js"],"sourcesContent":["import React, { useMemo, useRef } from 'react';\nimport { withNativeProps } from '../../utils/native-props';\nimport classNames from 'classnames';\nimport Ticks from './ticks';\nimport Marks from './marks';\nimport Thumb from './thumb';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { nearest } from '../../utils/nearest';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { devWarning } from '../../utils/dev-log';\nconst classPrefix = `adm-slider`;\nconst defaultProps = {\n  min: 0,\n  max: 100,\n  step: 1,\n  ticks: false,\n  range: false,\n  disabled: false,\n  popover: false,\n  residentPopover: false\n};\nexport const Slider = p => {\n  var _a;\n\n  const props = mergeProps(defaultProps, p);\n  const {\n    min,\n    max,\n    disabled,\n    marks,\n    ticks,\n    step,\n    icon\n  } = props;\n\n  function sortValue(val) {\n    return val.sort((a, b) => a - b);\n  }\n\n  function convertValue(value) {\n    return props.range ? value : [props.min, value];\n  }\n\n  function reverseValue(value) {\n    return props.range ? value : value[1];\n  }\n\n  function onAfterChange(value) {\n    var _a;\n\n    (_a = props.onAfterChange) === null || _a === void 0 ? void 0 : _a.call(props, reverseValue(value));\n  }\n\n  let propsValue = props.value;\n\n  if (props.range && typeof props.value === 'number') {\n    devWarning('Slider', 'When `range` prop is enabled, the `value` prop should be an array, like: [0, 0]');\n    propsValue = [0, props.value];\n  }\n\n  const [rawValue, setRawValue] = usePropsValue({\n    value: propsValue,\n    defaultValue: (_a = props.defaultValue) !== null && _a !== void 0 ? _a : props.range ? [min, min] : min,\n    onChange: props.onChange\n  });\n  const sliderValue = sortValue(convertValue(rawValue));\n\n  function setSliderValue(value) {\n    const next = sortValue(value);\n    const current = sliderValue;\n    if (next[0] === current[0] && next[1] === current[1]) return;\n    setRawValue(reverseValue(next));\n  }\n\n  const trackRef = useRef(null);\n  const fillSize = `${100 * (sliderValue[1] - sliderValue[0]) / (max - min)}%`;\n  const fillStart = `${100 * (sliderValue[0] - min) / (max - min)}%`; // 计算要显示的点\n\n  const pointList = useMemo(() => {\n    if (marks) {\n      return Object.keys(marks).map(parseFloat).sort((a, b) => a - b);\n    } else {\n      const points = [];\n\n      for (let i = min; i <= max; i += step) {\n        points.push(i);\n      }\n\n      return points;\n    }\n  }, [marks, ticks, step, min, max]);\n\n  function getValueByPosition(position) {\n    const newPosition = position < min ? min : position > max ? max : position;\n    let value = min; // 显示了刻度点，就只能移动到点上\n\n    if (pointList.length) {\n      value = nearest(pointList, newPosition);\n    } else {\n      const lengthPerStep = 100 / ((max - min) / step);\n      const steps = Math.round(newPosition / lengthPerStep);\n      value = steps * lengthPerStep * (max - min) * 0.01 + min;\n    }\n\n    return value;\n  }\n\n  const dragLockRef = useRef(0);\n\n  const onTrackClick = event => {\n    if (dragLockRef.current > 0) return;\n    event.stopPropagation();\n    if (disabled) return;\n    const track = trackRef.current;\n    if (!track) return;\n    const sliderOffsetLeft = track.getBoundingClientRect().left;\n    const position = (event.clientX - sliderOffsetLeft) / Math.ceil(track.offsetWidth) * (max - min) + min;\n    const targetValue = getValueByPosition(position);\n    let nextSliderValue;\n\n    if (props.range) {\n      // 移动的滑块采用就近原则\n      if (Math.abs(targetValue - sliderValue[0]) > Math.abs(targetValue - sliderValue[1])) {\n        nextSliderValue = [sliderValue[0], targetValue];\n      } else {\n        nextSliderValue = [targetValue, sliderValue[1]];\n      }\n    } else {\n      nextSliderValue = [props.min, targetValue];\n    }\n\n    setSliderValue(nextSliderValue);\n    onAfterChange(nextSliderValue);\n  };\n\n  const valueBeforeDragRef = useRef();\n\n  const renderThumb = index => {\n    return React.createElement(Thumb, {\n      key: index,\n      value: sliderValue[index],\n      min: min,\n      max: max,\n      disabled: disabled,\n      trackRef: trackRef,\n      icon: icon,\n      popover: props.popover,\n      residentPopover: props.residentPopover,\n      onDrag: (position, first, last) => {\n        if (first) {\n          dragLockRef.current += 1;\n          valueBeforeDragRef.current = sliderValue;\n        }\n\n        const val = getValueByPosition(position);\n        const valueBeforeDrag = valueBeforeDragRef.current;\n        if (!valueBeforeDrag) return;\n        const next = [...valueBeforeDrag];\n        next[index] = val;\n        setSliderValue(next);\n\n        if (last) {\n          onAfterChange(next);\n          window.setTimeout(() => {\n            dragLockRef.current -= 1;\n          }, 100);\n        }\n      },\n      \"aria-label\": props['aria-label']\n    });\n  };\n\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classNames(classPrefix, {\n      [`${classPrefix}-disabled`]: disabled\n    })\n  }, React.createElement(\"div\", {\n    className: `${classPrefix}-track-container`,\n    onClick: onTrackClick\n  }, React.createElement(\"div\", {\n    className: `${classPrefix}-track`,\n    onClick: onTrackClick,\n    ref: trackRef\n  }, React.createElement(\"div\", {\n    className: `${classPrefix}-fill`,\n    style: {\n      width: fillSize,\n      left: fillStart\n    }\n  }), props.ticks && React.createElement(Ticks, {\n    points: pointList,\n    min: min,\n    max: max,\n    lowerBound: sliderValue[0],\n    upperBound: sliderValue[1]\n  }), props.range && renderThumb(0), renderThumb(1))), marks && React.createElement(Marks, {\n    min: min,\n    max: max,\n    marks: marks,\n    lowerBound: sliderValue[0],\n    upperBound: sliderValue[1]\n  })));\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}