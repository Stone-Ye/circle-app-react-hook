{"ast":null,"code":"import React from'react';import{useLocation,useNavigate}from'react-router-dom';import{NavBar,Steps,Modal,Button}from'antd-mobile';import styles from'./index.module.css';import{getUserName,getAllUserInfos,updateAllUserInfos}from'../Utils/global';import HeadNav from'../Component/HeadNav';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Step=Steps.Step;export default function CheckYourOffer(){var navigate=useNavigate();var _useLocation=useLocation(),state=_useLocation.state;if(!state)return/*#__PURE__*/_jsx(NavBar,{onBack:function onBack(){return navigate(-1);},children:\"Check Your Offer\"});var productInfos=state.productInfos,offerDetails=state.offerDetails;var imgs=productInfos.imgs,title=productInfos.title,seller=productInfos.seller;var offerPrice=offerDetails.offerPrice,time=offerDetails.time,stepInfos=offerDetails.stepInfos,itemId=offerDetails.itemId;return/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsx(HeadNav,{title:\"Check Your Offer\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.c,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.ItemContent,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Seller: \",seller]}),/*#__PURE__*/_jsx(\"p\",{children:time})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:imgs[0],width:\"100px\",height:\"100px\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Offer price:   \",offerPrice]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.steps,children:/*#__PURE__*/_jsxs(Steps,{direction:\"vertical\",children:[/*#__PURE__*/_jsx(Step,{title:\"Your Offer is send to seller\",description:\"finish time: 12-01 12:30\",status:\"finish\"}),/*#__PURE__*/_jsx(Step,{title:\"Waiting for seller comfirm\",status:\"process\"}),stepInfos.status==0?'':stepInfos.status==1?/*#__PURE__*/_jsx(Step,{title:\"Seller accept your offer\",description:stepInfos.time,status:\"finish\"}):/*#__PURE__*/_jsx(Step,{title:\"Seller reject your offer\",description:\"finish time: \".concat(stepInfos.time),status:\"error\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:styles.deletcButton,children:/*#__PURE__*/_jsx(Button,{color:\"primary\",onClick:function onClick(){Modal.confirm({content:'Are your sure to delete the offer !',confirmText:'Yes',cancelText:'No',onConfirm:function onConfirm(){var allUserInfos=getAllUserInfos();var username=getUserName();allUserInfos[username]['offers'][itemId].isValid=0;updateAllUserInfos(allUserInfos);navigate('/offerhistory');},onCancel:function onCancel(){}});},children:\"Delete the Offer\"})})]})]});}","map":{"version":3,"names":["React","useLocation","useNavigate","NavBar","Steps","Modal","Button","styles","getUserName","getAllUserInfos","updateAllUserInfos","HeadNav","Step","CheckYourOffer","navigate","state","productInfos","offerDetails","imgs","title","seller","offerPrice","time","stepInfos","itemId","container","c","ItemContent","steps","status","deletcButton","confirm","content","confirmText","cancelText","onConfirm","allUserInfos","username","isValid","onCancel"],"sources":["/Users/stoneye/react_project/circle-app-react-hook/src/views/CheckYourOffer/index.js"],"sourcesContent":["import React from 'react'\nimport {\n  useLocation,\n  useNavigate\n} from 'react-router-dom'\n\nimport { NavBar, Steps, Modal, Button } from 'antd-mobile'\n\nimport styles from './index.module.css'\nimport {\n  getUserName, getAllUserInfos, updateAllUserInfos\n} from '../Utils/global'\n\nimport HeadNav from '../Component/HeadNav'\n\n\nconst { Step } = Steps\nexport default function CheckYourOffer () {\n\n\n  const navigate = useNavigate()\n  const { state } = useLocation()\n\n  if (!state) return <NavBar onBack={() => navigate(-1)} >Check Your Offer</NavBar>\n  let { productInfos, offerDetails } = state\n  const { imgs, title, seller } = productInfos\n  const { offerPrice, time, stepInfos, itemId } = offerDetails\n\n  return <div className={styles.container}>\n\n\n    <HeadNav title='Check Your Offer' />\n    <div className={styles.c}>\n      <div className={styles.ItemContent} >\n        <div>\n          <p>Seller: {seller}</p>\n          <p>{time}</p>\n        </div>\n        <div>\n          <div>\n            <img src={imgs[0]} width='100px' height='100px' />\n          </div>\n          <div>\n            <p>{title}</p>\n            <p>Offer price:   {offerPrice}</p>\n          </div>\n        </div>\n      </div>\n\n      <div className={styles.steps}>\n        <Steps direction='vertical'>\n          <Step title='Your Offer is send to seller' description='finish time: 12-01 12:30' status='finish' />\n          <Step title='Waiting for seller comfirm' status='process' />\n          {stepInfos.status == 0 ? '' : stepInfos.status == 1 ? <Step title='Seller accept your offer' description={stepInfos.time} status='finish' /> : <Step title='Seller reject your offer' description={`finish time: ${stepInfos.time}`} status='error' />}\n        </Steps>\n      </div>\n\n      <div className={styles.deletcButton}>\n        <Button color='primary' onClick={() => {\n          Modal.confirm({\n            content: 'Are your sure to delete the offer !',\n            confirmText: 'Yes',\n            cancelText: 'No',\n            onConfirm: () => {\n              let allUserInfos = getAllUserInfos()\n              let username = getUserName()\n              allUserInfos[username]['offers'][itemId].isValid = 0\n              updateAllUserInfos(allUserInfos)\n              navigate('/offerhistory')\n            },\n            onCancel: () => { }\n          })\n        }}>Delete the Offer</Button>\n      </div>\n    </div>\n\n  </div >\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}