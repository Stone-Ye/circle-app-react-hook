{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/stoneye/react_project/circle-app-react-hook/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport { useMemo } from 'react';\nimport memoize from 'lodash/memoize';\nexport function useCascaderValueExtend(options) {\n  var generateItems = useMemo(function () {\n    return memoize(function (val) {\n      var ret = [];\n      var currentOptions = options;\n\n      var _iterator = _createForOfIteratorHelper(val),\n          _step;\n\n      try {\n        var _loop = function _loop() {\n          var v = _step.value;\n          var target = currentOptions.find(function (option) {\n            return option.value === v;\n          });\n\n          if (!target) {\n            return \"break\";\n          }\n\n          ret.push(target);\n          if (!target.children) return \"break\";\n          currentOptions = target.children;\n        };\n\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _ret = _loop();\n\n          if (_ret === \"break\") break;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return ret;\n    }, function (val) {\n      return JSON.stringify(val);\n    });\n  }, [options]);\n  var generateIsLeaf = useMemo(function () {\n    return memoize(function (val) {\n      var children = val.reduce(function (currentOptions, v) {\n        var _a;\n\n        return ((_a = currentOptions.find(function (option) {\n          return option.value === v;\n        })) === null || _a === void 0 ? void 0 : _a.children) || [];\n      }, options);\n      return children.length === 0;\n    }, function (val) {\n      return JSON.stringify(val);\n    });\n  }, [options]);\n\n  function generateValueExtend(val) {\n    return {\n      get items() {\n        return generateItems(val);\n      },\n\n      get isLeaf() {\n        return generateIsLeaf(val);\n      }\n\n    };\n  }\n\n  return generateValueExtend;\n}","map":{"version":3,"names":["useMemo","memoize","useCascaderValueExtend","options","generateItems","val","ret","currentOptions","v","target","find","option","value","push","children","JSON","stringify","generateIsLeaf","reduce","_a","length","generateValueExtend","items","isLeaf"],"sources":["/Users/stoneye/react_project/circle-app-react-hook/node_modules/antd-mobile/es/components/cascader-view/use-cascader-value-extend.js"],"sourcesContent":["import { useMemo } from 'react';\nimport memoize from 'lodash/memoize';\nexport function useCascaderValueExtend(options) {\n  const generateItems = useMemo(() => {\n    return memoize(val => {\n      const ret = [];\n      let currentOptions = options;\n\n      for (const v of val) {\n        const target = currentOptions.find(option => option.value === v);\n\n        if (!target) {\n          break;\n        }\n\n        ret.push(target);\n        if (!target.children) break;\n        currentOptions = target.children;\n      }\n\n      return ret;\n    }, val => JSON.stringify(val));\n  }, [options]);\n  const generateIsLeaf = useMemo(() => {\n    return memoize(val => {\n      const children = val.reduce((currentOptions, v) => {\n        var _a;\n\n        return ((_a = currentOptions.find(option => option.value === v)) === null || _a === void 0 ? void 0 : _a.children) || [];\n      }, options);\n      return children.length === 0;\n    }, val => JSON.stringify(val));\n  }, [options]);\n\n  function generateValueExtend(val) {\n    return {\n      get items() {\n        return generateItems(val);\n      },\n\n      get isLeaf() {\n        return generateIsLeaf(val);\n      }\n\n    };\n  }\n\n  return generateValueExtend;\n}"],"mappings":";AAAA,SAASA,OAAT,QAAwB,OAAxB;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,OAAO,SAASC,sBAAT,CAAgCC,OAAhC,EAAyC;EAC9C,IAAMC,aAAa,GAAGJ,OAAO,CAAC,YAAM;IAClC,OAAOC,OAAO,CAAC,UAAAI,GAAG,EAAI;MACpB,IAAMC,GAAG,GAAG,EAAZ;MACA,IAAIC,cAAc,GAAGJ,OAArB;;MAFoB,2CAIJE,GAJI;MAAA;;MAAA;QAAA;UAAA,IAITG,CAJS;UAKlB,IAAMC,MAAM,GAAGF,cAAc,CAACG,IAAf,CAAoB,UAAAC,MAAM;YAAA,OAAIA,MAAM,CAACC,KAAP,KAAiBJ,CAArB;UAAA,CAA1B,CAAf;;UAEA,IAAI,CAACC,MAAL,EAAa;YACX;UACD;;UAEDH,GAAG,CAACO,IAAJ,CAASJ,MAAT;UACA,IAAI,CAACA,MAAM,CAACK,QAAZ,EAAsB;UACtBP,cAAc,GAAGE,MAAM,CAACK,QAAxB;QAbkB;;QAIpB,oDAAqB;UAAA;;UAAA,sBAQG;QAEvB;MAdmB;QAAA;MAAA;QAAA;MAAA;;MAgBpB,OAAOR,GAAP;IACD,CAjBa,EAiBX,UAAAD,GAAG;MAAA,OAAIU,IAAI,CAACC,SAAL,CAAeX,GAAf,CAAJ;IAAA,CAjBQ,CAAd;EAkBD,CAnB4B,EAmB1B,CAACF,OAAD,CAnB0B,CAA7B;EAoBA,IAAMc,cAAc,GAAGjB,OAAO,CAAC,YAAM;IACnC,OAAOC,OAAO,CAAC,UAAAI,GAAG,EAAI;MACpB,IAAMS,QAAQ,GAAGT,GAAG,CAACa,MAAJ,CAAW,UAACX,cAAD,EAAiBC,CAAjB,EAAuB;QACjD,IAAIW,EAAJ;;QAEA,OAAO,CAAC,CAACA,EAAE,GAAGZ,cAAc,CAACG,IAAf,CAAoB,UAAAC,MAAM;UAAA,OAAIA,MAAM,CAACC,KAAP,KAAiBJ,CAArB;QAAA,CAA1B,CAAN,MAA6D,IAA7D,IAAqEW,EAAE,KAAK,KAAK,CAAjF,GAAqF,KAAK,CAA1F,GAA8FA,EAAE,CAACL,QAAlG,KAA+G,EAAtH;MACD,CAJgB,EAIdX,OAJc,CAAjB;MAKA,OAAOW,QAAQ,CAACM,MAAT,KAAoB,CAA3B;IACD,CAPa,EAOX,UAAAf,GAAG;MAAA,OAAIU,IAAI,CAACC,SAAL,CAAeX,GAAf,CAAJ;IAAA,CAPQ,CAAd;EAQD,CAT6B,EAS3B,CAACF,OAAD,CAT2B,CAA9B;;EAWA,SAASkB,mBAAT,CAA6BhB,GAA7B,EAAkC;IAChC,OAAO;MACL,IAAIiB,KAAJ,GAAY;QACV,OAAOlB,aAAa,CAACC,GAAD,CAApB;MACD,CAHI;;MAKL,IAAIkB,MAAJ,GAAa;QACX,OAAON,cAAc,CAACZ,GAAD,CAArB;MACD;;IAPI,CAAP;EAUD;;EAED,OAAOgB,mBAAP;AACD"},"metadata":{},"sourceType":"module"}